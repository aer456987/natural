(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65a140fc"],{"0e54":function(t,e,r){"use strict";var s=r("7a23"),c={class:"px-lg-5 py-5"},a={class:"position-relative m-5"},o={class:"progress"},n=Object(s["h"])("i",{class:"bi bi-cart4"},null,-1),i=Object(s["h"])("i",{class:"bi bi-card-list"},null,-1),d=Object(s["h"])("i",{class:"bi bi-card-checklist"},null,-1),l=Object(s["h"])("i",{class:"bi bi-credit-card"},null,-1);function u(t,e,r,u,b,p){return Object(s["t"])(),Object(s["d"])("div",c,[Object(s["h"])("div",a,[Object(s["h"])("div",o,[Object(s["h"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(r.progressValue,"%"),"aria-valuenow":r.progressValue,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-0 translate-middle",{progress_active:0===r.progressValue,"bg-primary":r.progressValue>1}]},[n],2),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-33 translate-middle",{progress_active:33===r.progressValue,"bg-primary":r.progressValue>33}]},[i],2),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-66 translate-middle",{progress_active:66===r.progressValue,"bg-primary":r.progressValue>66}]},[d],2),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-100 translate-middle",{progress_active:100===r.progressValue}]},[l],2)])])}var b={name:"CartProgress",props:["progressValue"]};b.render=u;e["a"]=b},"1dde":function(t,e,r){var s=r("d039"),c=r("b622"),a=r("2d00"),o=c("species");t.exports=function(t){return a>=51||!s((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var s=r("1d80"),c=r("5899"),a="["+c+"]",o=RegExp("^"+a+a+"*"),n=RegExp(a+a+"*$"),i=function(t){return function(e){var r=String(s(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(n,"")),r}};t.exports={start:i(1),end:i(2),trim:i(3)}},"65f0":function(t,e,r){var s=r("861d"),c=r("e8b5"),a=r("b622"),o=a("species");t.exports=function(t,e){var r;return c(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?s(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},7156:function(t,e,r){var s=r("861d"),c=r("d2bb");t.exports=function(t,e,r){var a,o;return c&&"function"==typeof(a=e.constructor)&&a!==r&&s(o=a.prototype)&&o!==r.prototype&&c(t,o),t}},8418:function(t,e,r){"use strict";var s=r("c04e"),c=r("9bf2"),a=r("5c6c");t.exports=function(t,e,r){var o=s(e);o in t?c.f(t,o,a(0,r)):t[o]=r}},"99af":function(t,e,r){"use strict";var s=r("23e7"),c=r("d039"),a=r("e8b5"),o=r("861d"),n=r("7b0b"),i=r("50c4"),d=r("8418"),l=r("65f0"),u=r("1dde"),b=r("b622"),p=r("2d00"),h=b("isConcatSpreadable"),f=9007199254740991,O="Maximum allowed index exceeded",g=p>=51||!c((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),j=u("concat"),m=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)},v=!g||!j;s({target:"Array",proto:!0,forced:v},{concat:function(t){var e,r,s,c,a,o=n(this),u=l(o,0),b=0;for(e=-1,s=arguments.length;e<s;e++)if(a=-1===e?o:arguments[e],m(a)){if(c=i(a.length),b+c>f)throw TypeError(O);for(r=0;r<c;r++,b++)r in a&&d(u,b,a[r])}else{if(b>=f)throw TypeError(O);d(u,b++,a)}return u.length=b,u}})},a9e3:function(t,e,r){"use strict";var s=r("83ab"),c=r("da84"),a=r("94ca"),o=r("6eeb"),n=r("5135"),i=r("c6b6"),d=r("7156"),l=r("c04e"),u=r("d039"),b=r("7c73"),p=r("241c").f,h=r("06cf").f,f=r("9bf2").f,O=r("58a8").trim,g="Number",j=c[g],m=j.prototype,v=i(b(m))==g,y=function(t){var e,r,s,c,a,o,n,i,d=l(t,!1);if("string"==typeof d&&d.length>2)if(d=O(d),e=d.charCodeAt(0),43===e||45===e){if(r=d.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:s=2,c=49;break;case 79:case 111:s=8,c=55;break;default:return+d}for(a=d.slice(2),o=a.length,n=0;n<o;n++)if(i=a.charCodeAt(n),i<48||i>c)return NaN;return parseInt(a,s)}return+d};if(a(g,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(v?u((function(){m.valueOf.call(r)})):i(r)!=g)?d(new j(y(e)),r,x):y(e)},N=s?p(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;N.length>S;S++)n(j,w=N[S])&&!n(x,w)&&f(x,w,h(j,w));x.prototype=m,m.constructor=x,o(c,g,x)}},b0c0:function(t,e,r){var s=r("83ab"),c=r("9bf2").f,a=Function.prototype,o=a.toString,n=/^\s*function ([^ (]*)/,i="name";s&&!(i in a)&&c(a,i,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(t){return""}}})},ddd1:function(t,e,r){"use strict";r.r(e);r("b0c0");var s=r("7a23"),c={class:"container pageContent"},a={class:"py-4"},o={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},n={class:"breadcrumb m-0"},i={class:"breadcrumb-item"},d=Object(s["g"])("線上商城"),l={class:"breadcrumb-item"},u=Object(s["g"])("購物車"),b=Object(s["h"])("li",{class:"breadcrumb-item active","aria-current":"page"},"訂單確認",-1),p=Object(s["h"])("h1",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),h={class:"container"},f={class:"row px-md-1 px-lg-5 justify-content-center"},O={class:"col-md-12 col-lg-9"},g={class:"px-5 py-5 mb-5 rounded shadow bg-white"},j=Object(s["h"])("h3",{class:"h5 text-center fw-bold mt-3"},"訂單編號",-1),m={class:"text-center text-danger fw-bold mb-4 pb-3"},v={class:"table table-borderless mb-5"},y=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("td",{colspan:"2",scope:"row",class:"text-center border-end border"},"訂購人資訊")])],-1),w=Object(s["h"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"},"姓名",-1),x={class:"ps-sm-0 ps-md-4",width:"50%"},N=Object(s["h"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"},"聯絡電話",-1),S={class:"ps-sm-0 ps-md-4",width:"50%"},_=Object(s["h"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"},"Email",-1),I={class:"ps-sm-0 ps-md-4",width:"50%"},A=Object(s["h"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"},"寄送地址",-1),E={class:"ps-sm-0 ps-md-4",width:"50%"},V={class:"table table-borderless mb-5"},k=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("td",{colspan:"3",scope:"row",class:"text-center border-end border"},"商品項目")])],-1),B={scope:"row",colspan:"2",width:"50%",class:"text-end border-end pe-sm-0 pe-md-4"},C={class:"ps-sm-0 ps-md-4",width:"50%"},T={class:"h5 text-center mb-3"},J={class:"col-12 d-flex justify-content-center mb-5"},P=Object(s["g"])("我要付款");function F(t,e,r,F,$,M){var q=Object(s["y"])("Loading"),L=Object(s["y"])("router-link"),R=Object(s["y"])("Progress");return Object(s["t"])(),Object(s["d"])(s["a"],null,[Object(s["h"])(q,{status:$.loadingStatus},null,8,["status"]),Object(s["h"])("section",c,[Object(s["h"])("section",a,[Object(s["h"])("nav",o,[Object(s["h"])("ol",n,[Object(s["h"])("li",i,[Object(s["h"])(L,{to:"/products",class:"link-secondary"},{default:Object(s["J"])((function(){return[d]})),_:1})]),Object(s["h"])("li",l,[Object(s["h"])(L,{to:"/square/cart",class:"link-secondary"},{default:Object(s["J"])((function(){return[u]})),_:1})]),b])]),Object(s["h"])(R,{"progress-value":$.progressNum},null,8,["progress-value"]),p,Object(s["h"])("section",h,[Object(s["h"])("section",f,[Object(s["h"])("main",O,[Object(s["h"])("section",g,[j,Object(s["h"])("p",m,Object(s["B"])($.order.id),1),Object(s["h"])("table",v,[y,Object(s["h"])("tbody",null,[Object(s["h"])("tr",null,[w,Object(s["h"])("td",x,Object(s["B"])($.order.data.user.name),1)]),Object(s["h"])("tr",null,[N,Object(s["h"])("td",S,Object(s["B"])($.order.data.user.tel),1)]),Object(s["h"])("tr",null,[_,Object(s["h"])("td",I,Object(s["B"])($.order.data.user.email),1)]),Object(s["h"])("tr",null,[A,Object(s["h"])("td",E,Object(s["B"])($.order.data.user.address),1)])])]),Object(s["h"])("table",V,[k,(Object(s["t"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])($.order.data.products,(function(t){return Object(s["t"])(),Object(s["d"])("tbody",{key:t.id},[Object(s["h"])("tr",null,[Object(s["h"])("td",B,Object(s["B"])(t.product.title)+" × "+Object(s["B"])(t.qty),1),Object(s["h"])("td",C,"NT $"+Object(s["B"])(t.total),1)])])})),128))]),Object(s["h"])("p",T,"總金額NT $"+Object(s["B"])($.order.data.total),1)])]),Object(s["h"])("div",J,[Object(s["h"])(L,{to:"/square/orderPaid",class:"btn btn_main px-3 py-1",onClick:M.goPay},{default:Object(s["J"])((function(){return[P]})),_:1},8,["onClick"])])])])])])],64)}r("a9e3"),r("99af");var $=r("0e54"),M=r("4897"),q={name:"OrderCheck",props:["orderId"],data:function(){return{loadingStatus:!1,btnStatus:!0,progressNum:66,order:{id:"",data:{products:{},user:{},total:Number}}}},components:{Progress:$["a"]},methods:{getOrder:function(t){var e=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order/").concat(t);this.loadingStatus=!0,this.$http.get(r).then((function(t){t.data.success?(console.log("(成功-前台)取得單筆訂單 res:",t),e.order.data.products=JSON.parse(JSON.stringify(t.data.order.products)),e.order.data.user=JSON.parse(JSON.stringify(t.data.order.user)),e.order.data.total=t.data.order.total,console.log("products",e.order.data.products),console.log("user",e.order.data.user),e.loadingStatus=!1):(console.log("(錯誤-前台)取得單筆訂單 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得單筆訂單 err:"),console.dir(t),e.loadingStatus=!1}))},goPay:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/pay/").concat(this.order.id);this.loadingStatus=!0,this.$http.post(e).then((function(e){e.data.success?(console.log("(成功-前台)訂單付款 res:",e),t.loadingStatus=!1,t.$router.push("/square/orderPaid")):(console.log("(錯誤-前台)訂單付款 res:",e.data),t.loadingStatus=!1)})).catch((function(e){console.log("(失敗-前台)訂單付款 err"),console.dir(e),t.loadingStatus=!1}))}},mounted:function(){this.order.id=this.$route.params.id,this.getOrder(this.order.id),Object(M["b"])("已建立訂單","success",2e3,"訂單編號：".concat(this.order.id))}};q.render=F;e["default"]=q},e8b5:function(t,e,r){var s=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}}}]);
//# sourceMappingURL=chunk-65a140fc.cab48ce7.js.map