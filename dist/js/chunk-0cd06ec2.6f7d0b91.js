(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cd06ec2"],{"0e54":function(e,t,a){"use strict";var r=a("7a23"),s={class:"px-lg-5 py-5"},c={class:"position-relative m-5"},l={class:"progress"},o=Object(r["h"])("i",{class:"bi bi-cart4"},null,-1),n=Object(r["h"])("i",{class:"bi bi-card-list"},null,-1),i=Object(r["h"])("i",{class:"bi bi-card-checklist"},null,-1),u=Object(r["h"])("i",{class:"bi bi-credit-card"},null,-1);function d(e,t,a,d,b,f){return Object(r["v"])(),Object(r["d"])("div",s,[Object(r["h"])("div",c,[Object(r["h"])("div",l,[Object(r["h"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(a.progressValue,"%"),"aria-valuenow":a.progressValue,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-0 translate-middle",{progress_active:0===a.progressValue,"bg-primary":a.progressValue>1}]},[o],2),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-33 translate-middle",{progress_active:33===a.progressValue,"bg-primary":a.progressValue>33}]},[n],2),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-66 translate-middle",{progress_active:66===a.progressValue,"bg-primary":a.progressValue>66}]},[i],2),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-100 translate-middle",{progress_active:100===a.progressValue}]},[u],2)])])}var b={name:"CartProgress",props:["progressValue"]};b.render=d;t["a"]=b},"159b":function(e,t,a){var r=a("da84"),s=a("fdbc"),c=a("17c2"),l=a("9112");for(var o in s){var n=r[o],i=n&&n.prototype;if(i&&i.forEach!==c)try{l(i,"forEach",c)}catch(u){i.forEach=c}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,s=a("a640"),c=s("forEach");e.exports=c?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,a){var r=a("d039"),s=a("b622"),c=a("2d00"),l=s("species");e.exports=function(e){return c>=51||!r((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var r=a("861d"),s=a("e8b5"),c=a("b622"),l=c("species");e.exports=function(e,t){var a;return s(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?r(a)&&(a=a[l],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var r=a("c04e"),s=a("9bf2"),c=a("5c6c");e.exports=function(e,t,a){var l=r(t);l in e?s.f(e,l,c(0,a)):e[l]=a}},"99af":function(e,t,a){"use strict";var r=a("23e7"),s=a("d039"),c=a("e8b5"),l=a("861d"),o=a("7b0b"),n=a("50c4"),i=a("8418"),u=a("65f0"),d=a("1dde"),b=a("b622"),f=a("2d00"),h=b("isConcatSpreadable"),m=9007199254740991,p="Maximum allowed index exceeded",O=f>=51||!s((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),j=d("concat"),g=function(e){if(!l(e))return!1;var t=e[h];return void 0!==t?!!t:c(e)},v=!O||!j;r({target:"Array",proto:!0,forced:v},{concat:function(e){var t,a,r,s,c,l=o(this),d=u(l,0),b=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?l:arguments[t],g(c)){if(s=n(c.length),b+s>m)throw TypeError(p);for(a=0;a<s;a++,b++)a in c&&i(d,b,c[a])}else{if(b>=m)throw TypeError(p);i(d,b++,c)}return d.length=b,d}})},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},b0c0:function(e,t,a){var r=a("83ab"),s=a("9bf2").f,c=Function.prototype,l=c.toString,o=/^\s*function ([^ (]*)/,n="name";r&&!(n in c)&&s(c,n,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(e){return""}}})},b727:function(e,t,a){var r=a("0366"),s=a("44ad"),c=a("7b0b"),l=a("50c4"),o=a("65f0"),n=[].push,i=function(e){var t=1==e,a=2==e,i=3==e,u=4==e,d=6==e,b=7==e,f=5==e||d;return function(h,m,p,O){for(var j,g,v=c(h),y=s(v),x=r(m,p,3),V=l(y.length),w=0,D=O||o,_=t?D(h,V):a||b?D(h,0):void 0;V>w;w++)if((f||w in y)&&(j=y[w],g=x(j,w,v),e))if(t)_[w]=g;else if(g)switch(e){case 3:return!0;case 5:return j;case 6:return w;case 2:n.call(_,j)}else switch(e){case 4:return!1;case 7:n.call(_,j)}return d?-1:i||u?u:_}};e.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6),filterOut:i(7)}},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f86d:function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),s={class:"container pageContent"},c={class:"py-4"},l={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},o={class:"breadcrumb m-0"},n={class:"breadcrumb-item"},i=Object(r["g"])("線上商城"),u={class:"breadcrumb-item"},d=Object(r["g"])("購物車"),b=Object(r["h"])("li",{class:"breadcrumb-item active","aria-current":"page"},"填寫訂單資料",-1),f=Object(r["h"])("h1",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),h={class:"container"},m={class:"row px-lg-0 px-xl-5\n            position-relative justify-content-center align-items-center"},p={class:"col-xl-5 col-lg-6"},O={class:"table_style w-100 p-5 mb-5 rounded bg-white shadow-sm"},j=Object(r["h"])("h5",{class:"text-center mb-4"},"購物明細",-1),g={class:"table text-center mb-5"},v=Object(r["h"])("thead",null,[Object(r["h"])("tr",null,[Object(r["h"])("td",{scope:"col"},"商品資訊"),Object(r["h"])("td",{scope:"col"},"數量"),Object(r["h"])("td",{scope:"col"},"金額")])],-1),y={scope:"row"},x={class:"h5 text-center"},V={class:"col-lg-6 mb-5"},w=Object(r["h"])("label",{for:"orderName",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 訂購人姓名"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),D=Object(r["h"])("label",{for:"orderTel",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 聯絡電話"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),_=Object(r["h"])("label",{for:"orderEmail",class:"form-label mt-3 mb-1"},[Object(r["g"])(" Email"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),k=Object(r["h"])("label",{for:"orderDelivery",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 寄送方式"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),A=Object(r["h"])("option",{value:"",selected:"",disabled:""},"選擇寄送方式",-1),E=Object(r["h"])("option",{value:"宅配"},"宅配",-1),S=Object(r["h"])("option",{value:"全家超取"},"全家",-1),q=Object(r["h"])("option",{value:"7-11 超取"},"7-11",-1),M=Object(r["h"])("option",{value:"萊爾富超取"},"萊爾富",-1),U=Object(r["h"])("option",{value:"OK 超取"},"OK 超取",-1),C=Object(r["h"])("label",{for:"orderAddress",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 收件地址(超取請填寫門市名稱)"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),F=Object(r["h"])("label",{for:"orderPayment",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 付款方式"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),T=Object(r["h"])("option",{value:"",selected:"",disabled:""},"選擇付款方式",-1),$=Object(r["h"])("option",{value:"信用卡"},"信用卡",-1),N={key:0,value:"貨到付款"},P=Object(r["h"])("option",{value:"ATM 匯款"},"ATM 匯款",-1),I=Object(r["h"])("label",{for:"orderMsg",class:"form-label mt-3 mb-1"}," 備註 ",-1),J=Object(r["h"])("p",{class:"text-danger text-end fw-bold pt-1"},"* 為必填項目",-1),K={class:"col-12 d-flex justify-content-between mb-5"},z=Object(r["g"])(" ◁ 返回購物車 ");function B(e,t,a,B,L,G){var H=Object(r["A"])("Loading"),Q=Object(r["A"])("router-link"),R=Object(r["A"])("Progress"),W=Object(r["A"])("Field"),X=Object(r["A"])("error-message"),Y=Object(r["A"])("Form");return Object(r["v"])(),Object(r["d"])(r["a"],null,[Object(r["h"])(H,{status:L.loadingStatus},null,8,["status"]),Object(r["h"])("section",s,[Object(r["h"])("section",c,[Object(r["h"])("nav",l,[Object(r["h"])("ol",o,[Object(r["h"])("li",n,[Object(r["h"])(Q,{to:"/products",class:"link-secondary"},{default:Object(r["M"])((function(){return[i]})),_:1})]),Object(r["h"])("li",u,[Object(r["h"])(Q,{to:"/square/cart",class:"link-secondary"},{default:Object(r["M"])((function(){return[d]})),_:1})]),b])]),Object(r["h"])(R,{"progress-value":L.progressNum},null,8,["progress-value"]),f,Object(r["h"])("section",h,[Object(r["h"])("section",m,[Object(r["h"])("div",p,[Object(r["h"])("div",O,[j,Object(r["h"])("table",g,[v,Object(r["h"])("tbody",null,[(Object(r["v"])(!0),Object(r["d"])(r["a"],null,Object(r["z"])(L.carts.carts,(function(t){return Object(r["v"])(),Object(r["d"])("tr",{key:t.id},[Object(r["h"])("td",y,Object(r["D"])(t.product.title),1),Object(r["h"])("td",null,Object(r["D"])(t.qty),1),Object(r["h"])("td",null," NT $"+Object(r["D"])(e.$filters.currency(t.final_total)),1)])})),128))])]),Object(r["h"])("p",x," 總金額NT $"+Object(r["D"])(e.$filters.currency(L.carts.final_total)),1)])]),Object(r["h"])("main",V,[Object(r["h"])(Y,{class:"px-3",onChange:G.checkUserDatas},{default:Object(r["M"])((function(e){var a=e.errors;return[w,Object(r["h"])(W,{type:"text",name:"姓名",id:"orderName",class:["form-control",{"is-invalid":a["姓名"]}],rules:"required",modelValue:L.userDatas.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return L.userDatas.user.name=e})},null,8,["class","modelValue"]),Object(r["h"])(X,{name:"姓名",class:"invalid-feedback mb-1"}),D,Object(r["h"])(W,{type:"tel",name:"電話",id:"orderTel",class:["form-control",{"is-invalid":a["電話"]}],rules:"required|numeric|min:8",modelValue:L.userDatas.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return L.userDatas.user.tel=e})},null,8,["class","modelValue"]),Object(r["h"])(X,{name:"電話",class:"invalid-feedback mb-1"}),_,Object(r["h"])(W,{type:"email",name:"Email",id:"orderEmail",class:["form-control",{"is-invalid":a["Email"]}],rules:"required|email",modelValue:L.userDatas.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return L.userDatas.user.email=e})},null,8,["class","modelValue"]),Object(r["h"])(X,{name:"Email",class:"invalid-feedback mb-1"}),k,Object(r["h"])(W,{as:"select",name:"寄送方式",id:"orderDelivery",class:["form-control",{"is-invalid":a["寄送方式"]}],rules:"required",modelValue:L.userDatas.user.delivery,"onUpdate:modelValue":t[4]||(t[4]=function(e){return L.userDatas.user.delivery=e})},{default:Object(r["M"])((function(){return[A,E,S,q,M,U]})),_:2},1032,["class","modelValue"]),Object(r["h"])(X,{name:"寄送方式",class:"invalid-feedback mb-1"}),C,Object(r["h"])(W,{type:"text",name:"地址",id:"orderAddress",class:["form-control",{"is-invalid":a["地址"]}],rules:"required",modelValue:L.userDatas.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return L.userDatas.user.address=e})},null,8,["class","modelValue"]),Object(r["h"])(X,{name:"地址",class:"invalid-feedback mb-1"}),F,Object(r["h"])(W,{as:"select",name:"付款方式",id:"orderPayment",class:["form-control",{"is-invalid":a["付款方式"]}],rules:"required",modelValue:L.userDatas.user.payment,"onUpdate:modelValue":t[6]||(t[6]=function(e){return L.userDatas.user.payment=e})},{default:Object(r["M"])((function(){return[T,$,L.isFundraising?(Object(r["v"])(),Object(r["d"])("option",N," 貨到付款 ")):Object(r["e"])("",!0),P]})),_:2},1032,["class","modelValue"]),Object(r["h"])(X,{name:"付款方式",class:"invalid-feedback mb-1"}),I,Object(r["h"])(W,{as:"textarea",name:"備註",id:"orderMsg",class:["form-control",{"is-invalid":a["備註"]}],modelValue:L.userDatas.message,"onUpdate:modelValue":t[7]||(t[7]=function(e){return L.userDatas.message=e})},null,8,["class","modelValue"]),Object(r["h"])(X,{name:"備註",class:"invalid-feedback mb-1"}),J]})),_:1},8,["onChange"])]),Object(r["h"])("div",K,[Object(r["h"])(Q,{to:"/square/cart",class:"btn btn_outline_green px-3 py-1"},{default:Object(r["M"])((function(){return[z]})),_:1}),Object(r["h"])("button",{class:"btn btn_main px-3 py-1",disabled:L.btnStatus,onClick:t[8]||(t[8]=function(){return G.postOrder&&G.postOrder.apply(G,arguments)})}," 送出訂單 ▷ ",8,["disabled"])])])])])])],64)}a("99af"),a("159b");var L=a("0e54"),G=a("4897"),H={name:"Order",data:function(){return{loadingStatus:!1,btnStatus:!0,progressNum:33,carts:{},userDatas:{user:{}},isFundraising:!0}},components:{Progress:L["a"]},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0,this.$http.get(t).then((function(t){t.data.success?(console.log("(成功-前台)取得購物車全部資料 res:",t),e.carts=t.data.data,e.carts.carts.length<1&&e.$router.push("/square/cart"),e.filterFundraising(),e.loadingStatus=!1,console.log("(成功-前台)取得購物車全部資料 vue:",e.carts)):(console.log("(錯誤-前台)取得購物車全部資料 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得購物車全部資料 res:"),console.dir(t),e.loadingStatus=!1}))},filterFundraising:function(){var e=this;this.carts.carts.forEach((function(t){"募款專案"===t.product.category&&(e.isFundraising=!1,console.log("募款專案"===t.product.category))}))},checkUserDatas:function(){var e=this.userDatas.user,t=e.name,a=e.email,r=e.tel,s=e.address;this.btnStatus=""===t||""===a||""===r||""===s},postOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order");this.loadingStatus=!0,this.$http.post(t,{data:this.userDatas}).then((function(t){t.data.success?(console.log("(成功-前台)送出訂單 res:",t),e.$router.push("/square/order/".concat(t.data.orderId))):(console.log("(錯誤-前台)送出訂單 res",t),Object(G["c"])(t.data.message,"error"),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)送出訂單 err"),console.dir(t),e.loadingStatus=!1}))}},mounted:function(){this.getCarts()}};H.render=B;t["default"]=H}}]);
//# sourceMappingURL=chunk-0cd06ec2.6f7d0b91.js.map