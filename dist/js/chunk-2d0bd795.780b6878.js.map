{"version":3,"sources":["webpack:///./src/views/front/Front.vue","webpack:///./src/components/navbar/MainNavbar.vue","webpack:///./src/components/navbar/MainNavbar.vue?2c99","webpack:///./src/views/front/Front.vue?c31f"],"names":["textColor","bgColor","moreMsg","class","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","icon","openFavoritesOffcanvas","favoritesLength","newFavoritesLength","cartsLength","newLength","ref","name","data","mainFavoritesList","JSON","parse","localStorage","getItem","components","Offcanvas","methods","updateCartLength","url","this","$http","get","then","res","success","totleQty","carts","forEach","item","qty","swal","catch","updateFavoritesLength","length","$refs","likeOffcanvas","openOffcanvas","mounted","bus","on","num","render","MainNavbar","Footer"],"mappings":"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","file":"js/chunk-2d0bd795.780b6878.js","sourcesContent":["<template>\n  <MainNavbar></MainNavbar>\n  <router-view></router-view>\n  <Footer\n    :textColor=\"'text-secondary'\"\n    :bgColor=\"'bg-primary'\"\n    :moreMsg=\"true\"\n  ></Footer>\n</template>\n\n<script>\nimport MainNavbar from '@/components/navbar/MainNavbar.vue';\nimport Footer from '@/components/Footer.vue';\n\nexport default {\n  name: 'Front',\n  components: { MainNavbar, Footer },\n};\n</script>\n","<template>\n  <!-- 主要導覽列 -->\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary px-2 w-100 user_select_none\">\n    <div class=\"container-fluid\">\n      <router-link\n        to=\"/\"\n        class=\"nav-link logo h3 mb-0 p-0\"\n      >\n        <Font-awesome-icon\n          icon=\"crow\"\n          class=\"d-inline-block align-text-top\"\n        />\n        Natural\n      </router-link>\n      <button\n        type=\"button\"\n        class=\"navbar-toggler\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarToggler\"\n        aria-controls=\"navbarToggler\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div\n        id=\"navbarToggler\"\n        class=\"collapse navbar-collapse flex justify-content-end\"\n      >\n        <ul class=\"navbar-nav fs-5 text-center\">\n          <li class=\"nav-item scale\">\n            <router-link\n              to=\"/about\"\n              class=\"nav-link\"\n            >\n              關於我們\n            </router-link>\n          </li>\n          <li class=\"nav-item scale\">\n            <router-link\n              to=\"/products\"\n              class=\"nav-link\"\n            >\n              線上商城\n            </router-link>\n          </li>\n          <li class=\"nav-item scale\">\n            <a\n              class=\"nav-link pointer_no_hover\"\n              @click=\"openFavoritesOffcanvas()\"\n            >\n              <i class=\"bi bi-heart-fill position-relative\">\n                <span\n                  class=\"num_icon\"\n                  v-if=\"favoritesLength > 0\"\n                >\n                  {{ favoritesLength || newFavoritesLength }}\n                </span>\n              </i>\n            </a>\n          </li>\n          <li class=\"nav-item scale\">\n            <router-link\n              to=\"/cart\"\n              class=\"nav-link\"\n            >\n              <i class=\"bi bi-cart-fill position-relative\">\n                <span\n                  class=\"num_icon\"\n                  v-if=\"cartsLength > 0\"\n                >\n                  {{ cartsLength || newLength }}\n                </span>\n              </i>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n\n  <Offcanvas\n    ref=\"likeOffcanvas\"\n  ></Offcanvas>\n</template>\n\n<script>\nimport { swalFn } from '@/methods/swal';\nimport bus from '@/methods/bus';\nimport Offcanvas from '@/components/offcanvas/FavoritesOffcanvas.vue';\n\nexport default {\n  name: 'MainNavbar',\n  data() {\n    return {\n      cartsLength: 0,\n      newLength: 0,\n      mainFavoritesList: JSON.parse(localStorage.getItem('favoriteData')) || [],\n      favoritesLength: 0,\n      newFavoritesLength: 0,\n    };\n  },\n  components: { Offcanvas },\n  methods: {\n    updateCartLength() { // 取得購物車數量\n      const url = `${process.env.VUE_APP_PATH}/api/${process.env.VUE_APP_API}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          if (res.data.success) {\n            let totleQty = 0;\n            this.cartsLength = res.data.data.carts.forEach((item) => {\n              totleQty += item.qty;\n            });\n            this.cartsLength = totleQty;\n          } else {\n            swalFn('購物車資料取得失敗', 'error');\n          }\n        })\n        .catch(() => {\n          swalFn('購物車資料取得失敗', 'error');\n        });\n    },\n    updateFavoritesLength() { // 取得最愛收藏數量\n      this.favoritesLength = this.mainFavoritesList.length;\n      this.newFavoritesLength = this.mainFavoritesList.length;\n    },\n    openFavoritesOffcanvas() { // 打開最愛收藏側欄\n      const data = JSON.parse(localStorage.getItem('favoriteData')) || [];\n      this.$refs.likeOffcanvas.openOffcanvas(data);\n    },\n  },\n  mounted() {\n    this.updateCartLength();\n    this.updateFavoritesLength();\n    // 更新購物車數量\n    bus.on('cart-number', (num) => {\n      this.cartsLength = num;\n      this.newLength = num;\n    });\n\n    // 更新最愛收藏數量\n    bus.on('favorites-number', (num) => {\n      this.favoritesLength = num;\n      this.newFavoritesLength = num;\n    });\n  },\n};\n</script>\n","import { render } from \"./MainNavbar.vue?vue&type=template&id=9643b1ae\"\nimport script from \"./MainNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./MainNavbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Front.vue?vue&type=template&id=c0579088\"\nimport script from \"./Front.vue?vue&type=script&lang=js\"\nexport * from \"./Front.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}