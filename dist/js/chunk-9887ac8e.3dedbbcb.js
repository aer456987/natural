(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9887ac8e"],{"1dde":function(t,e,c){var s=c("d039"),n=c("b622"),o=c("2d00"),a=n("species");t.exports=function(t){return o>=51||!s((function(){var e=[],c=e.constructor={};return c[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,c){var s=c("861d"),n=c("e8b5"),o=c("b622"),a=o("species");t.exports=function(t,e){var c;return n(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?s(c)&&(c=c[a],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},8418:function(t,e,c){"use strict";var s=c("c04e"),n=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var a=s(e);a in t?n.f(t,a,o(0,c)):t[a]=c}},"99af":function(t,e,c){"use strict";var s=c("23e7"),n=c("d039"),o=c("e8b5"),a=c("861d"),r=c("7b0b"),l=c("50c4"),i=c("8418"),u=c("65f0"),b=c("1dde"),d=c("b622"),g=c("2d00"),p=d("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",f=g>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=b("concat"),h=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},y=!f||!v;s({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,s,n,o,a=r(this),b=u(a,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(o=-1===e?a:arguments[e],h(o)){if(n=l(o.length),d+n>j)throw TypeError(O);for(c=0;c<n;c++,d++)c in o&&i(b,d,o[c])}else{if(d>=j)throw TypeError(O);i(b,d++,o)}return b.length=d,b}})},ad18:function(t,e,c){"use strict";var s=c("7a23"),n={class:"px-lg-5 py-5"},o={class:"position-relative m-5"},a={class:"progress"},r=Object(s["g"])("i",{class:"bi bi-cart4"},null,-1),l=Object(s["g"])("i",{class:"bi bi-card-list"},null,-1),i=Object(s["g"])("i",{class:"bi bi-card-checklist"},null,-1),u=Object(s["g"])("i",{class:"bi bi-credit-card"},null,-1);function b(t,e,c,b,d,g){return Object(s["s"])(),Object(s["d"])("div",n,[Object(s["g"])("div",o,[Object(s["g"])("div",a,[Object(s["g"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(c.progress,"%"),"aria-valuenow":c.progress,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-0\n          translate-middle\n          progress_style\n        ",{progress_active:0===c.progress,"bg-primary":c.progress>1}]},[r],2),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-33\n          translate-middle\n          progress_style\n        ",{progress_active:33===c.progress,"bg-primary":c.progress>33}]},[l],2),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-66\n          translate-middle\n          progress_style\n        ",{progress_active:66===c.progress,"bg-primary":c.progress>66}]},[i],2),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-100\n          translate-middle\n          progress_style\n        ",{progress_active:100===c.progress}]},[u],2)])])}var d={props:["progress"]};d.render=b;e["a"]=d},b789:function(t,e,c){"use strict";c.r(e);var s=c("7a23"),n={class:"container pageContent"},o={class:"py-4"},a={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},r={class:"breadcrumb m-0"},l={class:"breadcrumb-item"},i=Object(s["f"])("線上商城"),u=Object(s["g"])("li",{class:"breadcrumb-item fw-bold active","aria-current":"page"}," 購物車 ",-1),b=Object(s["g"])("h3",{class:"text-center fw-bold mb-4"},"購物車",-1),d={class:"container"},g={class:"row px-lg-0 px-xl-5 position-relative"},p={class:"\n              col-12\n              mb-5\n              p-5\n              table_style\n              text-center\n              bg-white\n              rounded-3\n              shadow\n            "},j={key:0,class:"row justify-content-center py-4"},O={class:"col-12 col-md-5"},f=Object(s["g"])("h3",{class:"mb-3"},"購物車內沒有商品",-1),v=Object(s["f"])(" 前往選購 "),h={class:"table position-relative"},y=Object(s["g"])("thead",null,[Object(s["g"])("tr",null,[Object(s["g"])("th",{class:"py-3",scope:"col",colspan:"2"},"商品資訊"),Object(s["g"])("th",{class:"py-3",scope:"col"},"數量"),Object(s["g"])("th",{class:"py-3",scope:"col"},"金額"),Object(s["g"])("th",{class:"py-3",scope:"col"})])],-1),m={style:{width:"100px",height:"60px",overflow:"hidden"}},x={scope:"row"},w={class:"d-flex justify-content-center"},_={class:"input-group",style:{"max-width":"130px"}},S={class:"\n                              form-control\n                              bg_transparent\n                              text-center\n                              fw-bold\n                              border-0\n                            "},C=Object(s["g"])("span",null,"NT $",-1),k={class:"text-end text-danger fw-bold"},A={key:0,class:"col-12 d-flex justify-content-between mb-5"},q=Object(s["f"])(" ◁ 繼續購物 "),$=Object(s["f"])(" 填寫訂單 ▷ ");function G(t,e,c,G,T,E){var J=Object(s["x"])("Loading"),N=Object(s["x"])("router-link"),P=Object(s["x"])("Progress"),B=Object(s["x"])("font-awesome-icon");return Object(s["s"])(),Object(s["d"])(s["a"],null,[Object(s["g"])(J,{status:T.loadingStatus},null,8,["status"]),Object(s["g"])("section",n,[Object(s["g"])("main",o,[Object(s["g"])("nav",a,[Object(s["g"])("ol",r,[Object(s["g"])("li",l,[Object(s["g"])(N,{to:"/products",class:"link-secondary"},{default:Object(s["G"])((function(){return[i]})),_:1})]),u])]),Object(s["g"])(P,{progress:T.progress},null,8,["progress"]),b,Object(s["g"])("div",d,[Object(s["g"])("div",g,[Object(s["g"])("div",p,[T.btnStatus?(Object(s["s"])(),Object(s["d"])("div",j,[Object(s["g"])("div",O,[f,Object(s["g"])(N,{to:"/products",class:"btn btn_main w-100"},{default:Object(s["G"])((function(){return[v]})),_:1})])])):(Object(s["s"])(),Object(s["d"])(s["a"],{key:1},[Object(s["g"])("table",h,[y,Object(s["g"])("tbody",null,[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["w"])(T.carts.carts,(function(t){return Object(s["s"])(),Object(s["d"])("tr",{key:t.id},[Object(s["g"])("td",null,[Object(s["g"])("div",m,[Object(s["g"])("img",{src:t.product.imageUrl,alt:"預覽",class:"w-100"},null,8,["src"])])]),Object(s["g"])("th",x,Object(s["A"])(t.product.title),1),Object(s["g"])("td",null,[Object(s["g"])("div",w,[Object(s["g"])("div",_,[Object(s["g"])("div",{class:"btn_green_cart",onClick:function(e){return E.putCart("reduce",t)}}," - ",8,["onClick"]),Object(s["g"])("div",S,Object(s["A"])(t.qty),1),Object(s["g"])("div",{class:"btn_green_cart px-2",onClick:function(e){return E.putCart("add",t)}}," + ",8,["onClick"])])])]),Object(s["g"])("td",null,[C,Object(s["f"])(Object(s["A"])(t.final_total),1)]),Object(s["g"])("td",null,[Object(s["g"])(B,{icon:"times",class:"btn_red",onClick:function(e){return E.delCart("one",t)}},null,8,["onClick"])])])})),128))])]),Object(s["g"])("h5",k," 總金額NT $"+Object(s["A"])(T.carts.total),1)],64))]),T.btnStatus?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["d"])("div",A,[Object(s["g"])(N,{to:"/products",class:"btn btn-outline-secondary px-3 py-1"},{default:Object(s["G"])((function(){return[q]})),_:1}),Object(s["g"])("button",{type:"button",class:"btn btn-outline-danger px-3 py-1",onClick:e[1]||(e[1]=function(t){return E.delCart("all")})}," 清空購物車 "),Object(s["g"])(N,{to:"/square/order",class:["btn btn_main px-3 py-1",{disabled:T.btnStatus}]},{default:Object(s["G"])((function(){return[$]})),_:1},8,["class"])]))])])])])],64)}c("99af");var T=c("ad18"),E={name:"Cart",data:function(){return{loadingStatus:!1,btnStatus:!0,progress:0,carts:{},title:"購物車"}},components:{Progress:T["a"]},methods:{changeStatus:function(t){console.log(123),this.title=t},getCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0,this.$http.get(e).then((function(e){e.data.success?(console.log("(成功-前台)取得購物車全部資料 res:",e),t.carts=e.data.data,e.data.data.carts.length>0?t.btnStatus=!1:t.btnStatus=!0,t.loadingStatus=!1,console.log("(成功-前台)取得購物車全部資料 vue:",t.carts)):(console.log("(錯誤-前台)取得購物車全部資料 res:",e),t.loadingStatus=!1)})).catch((function(e){console.log("(失敗-前台)取得購物車全部資料 res:"),console.dir(e),t.loadingStatus=!1}))},delCart:function(t,e){var c=this,s="",n="";this.loadingStatus=!0,console.log(n),"all"===t?(s="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/carts"),console.log("刪除全部",s)):"one"===t&&(console.log(e),console.log(e.id),s="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart/").concat(e.id),console.log("刪除一個",e.id,s)),this.$http.delete(s).then((function(t){t.data.success?(console.log("(成功-前台)刪除購物車 res:",t),console.log("(成功-前台)刪除購物車 vue:",c.carts),c.getCarts()):(console.log("(錯誤-前台)刪除購物車 res:",t),c.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)刪除購物車 res:"),console.dir(t),c.loadingStatus=!1}))},putCart:function(t,e){var c=this;this.loadingStatus=!0;var s="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart/").concat(e.id),n=e.qty;if("reduce"===t){if(1===e.qty)return console.log("不可小於數量1"),void(this.loadingStatus=!1);n-=1}else"add"===t&&(n+=1);var o={data:{product_id:e.product_id,qty:n}};this.$http.put(s,o).then((function(t){t.data.success?(console.log("(成功-前台)修改購物車 res:",t),c.getCarts()):(console.log("(錯誤-前台)修改購物車 res:",t),c.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)修改購物車 res:"),console.dir(t),c.loadingStatus=!1}))}},mounted:function(){this.getCarts()}};E.render=G;e["default"]=E},e8b5:function(t,e,c){var s=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}}}]);
//# sourceMappingURL=chunk-9887ac8e.3dedbbcb.js.map