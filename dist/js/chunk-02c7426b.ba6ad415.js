(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02c7426b"],{"1dde":function(e,t,s){var a=s("d039"),r=s("b622"),c=s("2d00"),n=r("species");e.exports=function(e){return c>=51||!a((function(){var t=[],s=t.constructor={};return s[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,s){var a=s("861d"),r=s("e8b5"),c=s("b622"),n=c("species");e.exports=function(e,t){var s;return r(e)&&(s=e.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?a(s)&&(s=s[n],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===t?0:t)}},8418:function(e,t,s){"use strict";var a=s("c04e"),r=s("9bf2"),c=s("5c6c");e.exports=function(e,t,s){var n=a(t);n in e?r.f(e,n,c(0,s)):e[n]=s}},"99af":function(e,t,s){"use strict";var a=s("23e7"),r=s("d039"),c=s("e8b5"),n=s("861d"),o=s("7b0b"),l=s("50c4"),i=s("8418"),b=s("65f0"),d=s("1dde"),u=s("b622"),g=s("2d00"),p=u("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",O=g>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),j=d("concat"),v=function(e){if(!n(e))return!1;var t=e[p];return void 0!==t?!!t:c(e)},h=!O||!j;a({target:"Array",proto:!0,forced:h},{concat:function(e){var t,s,a,r,c,n=o(this),d=b(n,0),u=0;for(t=-1,a=arguments.length;t<a;t++)if(c=-1===t?n:arguments[t],v(c)){if(r=l(c.length),u+r>f)throw TypeError(m);for(s=0;s<r;s++,u++)s in c&&i(d,u,c[s])}else{if(u>=f)throw TypeError(m);i(d,u++,c)}return d.length=u,d}})},ad18:function(e,t,s){"use strict";var a=s("7a23"),r={class:"px-lg-5 py-5"},c={class:"position-relative m-5"},n={class:"progress"},o=Object(a["g"])("i",{class:"bi bi-cart4"},null,-1),l=Object(a["g"])("i",{class:"bi bi-card-list"},null,-1),i=Object(a["g"])("i",{class:"bi bi-card-checklist"},null,-1),b=Object(a["g"])("i",{class:"bi bi-credit-card"},null,-1);function d(e,t,s,d,u,g){return Object(a["s"])(),Object(a["d"])("div",r,[Object(a["g"])("div",c,[Object(a["g"])("div",n,[Object(a["g"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(s.progress,"%"),"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(a["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-0\n          translate-middle\n          progress_style\n        ",{progress_active:0===s.progress,"bg-primary":s.progress>1}]},[o],2),Object(a["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-33\n          translate-middle\n          progress_style\n        ",{progress_active:33===s.progress,"bg-primary":s.progress>33}]},[l],2),Object(a["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-66\n          translate-middle\n          progress_style\n        ",{progress_active:66===s.progress,"bg-primary":s.progress>66}]},[i],2),Object(a["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-100\n          translate-middle\n          progress_style\n        ",{progress_active:100===s.progress}]},[b],2)])])}var u={props:["progress"]};u.render=d;t["a"]=u},b0c0:function(e,t,s){var a=s("83ab"),r=s("9bf2").f,c=Function.prototype,n=c.toString,o=/^\s*function ([^ (]*)/,l="name";a&&!(l in c)&&r(c,l,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(e){return""}}})},e8b5:function(e,t,s){var a=s("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},f86d:function(e,t,s){"use strict";s.r(t);s("b0c0");var a=s("7a23"),r={class:"container pageContent"},c={class:"py-4"},n={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},o={class:"breadcrumb m-0"},l={class:"breadcrumb-item"},i=Object(a["f"])("線上商城"),b={class:"breadcrumb-item"},d=Object(a["f"])("購物車"),u=Object(a["g"])("li",{class:"breadcrumb-item fw-bold active","aria-current":"page"}," 填寫訂單資料 ",-1),g=Object(a["g"])("h1",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),p={class:"container"},f={class:"row px-lg-0 px-xl-5\n        position-relative\n        justify-content-center align-items-center"},m={class:"col-xl-5 col-lg-6"},O={class:"\n                table_style\n                w-100\n                p-5\n                mb-5\n                rounded\n                bg-white\n                shadow-sm\n              "},j=Object(a["g"])("h5",{class:"text-center fw-bold mb-4"},"購物明細",-1),v={class:"table text-center mb-5"},h=Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th",{scope:"col"},"商品資訊"),Object(a["g"])("th",{scope:"col"},"數量"),Object(a["g"])("th",{scope:"col"},"金額")])],-1),y={scope:"row"},x=Object(a["g"])("span",null,"NT $",-1),w={class:"text-center fw-bold"},_={class:"col-lg-6 mb-5"},k=Object(a["g"])("label",{for:"orderName",class:"form-label mt-4 mb-1 fw-bold"},[Object(a["f"])("訂購人姓名"),Object(a["g"])("span",{class:"text-danger fw-bold"},"*")],-1),D=Object(a["g"])("label",{for:"orderTel",class:"form-label mt-4 mb-1 fw-bold"},[Object(a["f"])("聯絡電話"),Object(a["g"])("span",{class:"text-danger fw-bold"},"*")],-1),V=Object(a["g"])("label",{for:"orderEmail",class:"form-label mt-4 mb-1 fw-bold"},[Object(a["f"])("Email"),Object(a["g"])("span",{class:"text-danger fw-bold"},"*")],-1),S=Object(a["g"])("label",{for:"orderAddress",class:"form-label mt-4 mb-1 fw-bold"},[Object(a["f"])("寄送地址"),Object(a["g"])("span",{class:"text-danger fw-bold"},"*")],-1),A=Object(a["g"])("label",{for:"orderMsg",class:"form-label mt-4 mb-1 fw-bold"},"備註",-1),q=Object(a["g"])("p",{class:"text-danger text-end fw-bold pt-1"},"* 為必填項目",-1),E={class:"col-12 d-flex justify-content-between mb-5"},C=Object(a["f"])(" ◁ 返回購物車 ");function U(e,t,s,U,T,$){var G=Object(a["x"])("Loading"),N=Object(a["x"])("router-link"),F=Object(a["x"])("Progress"),M=Object(a["x"])("Field"),J=Object(a["x"])("error-message"),P=Object(a["x"])("Form");return Object(a["s"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(G,{status:T.loadingStatus},null,8,["status"]),Object(a["g"])("section",r,[Object(a["g"])("main",c,[Object(a["g"])("nav",n,[Object(a["g"])("ol",o,[Object(a["g"])("li",l,[Object(a["g"])(N,{to:"/products",class:"link-secondary"},{default:Object(a["G"])((function(){return[i]})),_:1})]),Object(a["g"])("li",b,[Object(a["g"])(N,{to:"/square/cart",class:"link-secondary"},{default:Object(a["G"])((function(){return[d]})),_:1})]),u])]),Object(a["g"])(F,{progress:T.progress},null,8,["progress"]),g,Object(a["g"])("div",p,[Object(a["g"])("template",f,[Object(a["g"])("div",m,[Object(a["g"])("div",O,[j,Object(a["g"])("table",v,[h,Object(a["g"])("tbody",null,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(T.carts.carts,(function(e){return Object(a["s"])(),Object(a["d"])("tr",{key:e.id},[Object(a["g"])("th",y,Object(a["A"])(e.product.title),1),Object(a["g"])("td",null,Object(a["A"])(e.qty),1),Object(a["g"])("td",null,[x,Object(a["f"])(Object(a["A"])(e.final_total),1)])])})),128))])]),Object(a["g"])("h5",w," 總金額NT $"+Object(a["A"])(T.carts.total),1)])]),Object(a["g"])("div",_,[Object(a["g"])(P,{class:"px-3",onChange:$.checkUserDatas},{default:Object(a["G"])((function(e){var s=e.errors;return[k,Object(a["g"])(M,{type:"text",id:"orderName",name:"姓名",class:["form-control",{"is-invalid":s["姓名"]}],rules:"required",modelValue:T.userDatas.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return T.userDatas.user.name=e})},null,8,["class","modelValue"]),Object(a["g"])(J,{name:"姓名",class:"invalid-feedback mb-1"}),D,Object(a["g"])(M,{type:"tel",id:"orderTel",name:"電話",class:["form-control",{"is-invalid":s["電話"]}],rules:"required|numeric|min:8",modelValue:T.userDatas.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return T.userDatas.user.tel=e})},null,8,["class","modelValue"]),Object(a["g"])(J,{name:"電話",class:"invalid-feedback mb-1"}),V,Object(a["g"])(M,{type:"email",id:"orderEmail",name:"Email",class:["form-control",{"is-invalid":s["Email"]}],rules:"required|email",modelValue:T.userDatas.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return T.userDatas.user.email=e})},null,8,["class","modelValue"]),Object(a["g"])(J,{name:"Email",class:"invalid-feedback mb-1"}),S,Object(a["g"])(M,{type:"text",id:"orderAddress",name:"地址",class:["form-control",{"is-invalid":s["地址"]}],rules:"required",modelValue:T.userDatas.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return T.userDatas.user.address=e})},null,8,["class","modelValue"]),Object(a["g"])(J,{name:"地址",class:"invalid-feedback mb-1"}),A,Object(a["g"])(M,{as:"textarea",id:"orderMsg",name:"備註",class:["form-control",{"is-invalid":s["備註"]}],modelValue:T.userDatas.message,"onUpdate:modelValue":t[5]||(t[5]=function(e){return T.userDatas.message=e})},null,8,["class","modelValue"]),Object(a["g"])(J,{name:"備註",class:"invalid-feedback mb-1"}),q]})),_:1},8,["onChange"])]),Object(a["g"])("div",E,[Object(a["g"])(N,{to:"/square/cart",class:"btn btn-outline-secondary px-3 py-1"},{default:Object(a["G"])((function(){return[C]})),_:1}),Object(a["g"])("button",{class:"btn btn_main px-3 py-1",disabled:T.btnStatus,onClick:t[6]||(t[6]=function(){return $.postOrder&&$.postOrder.apply($,arguments)})}," 送出訂單 ▷ ",8,["disabled"])])])])])])],64)}s("99af");var T=s("ad18"),$={name:"Order",data:function(){return{loadingStatus:!1,btnStatus:!0,progress:33,carts:{},userDatas:{user:{},message:""},order:{id:"",data:{}}}},components:{Progress:T["a"]},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0,this.$http.get(t).then((function(t){t.data.success?(console.log("(成功-前台)取得購物車全部資料 res:",t),e.carts=t.data.data,e.loadingStatus=!1,console.log("(成功-前台)取得購物車全部資料 vue:",e.carts)):(console.log("(錯誤-前台)取得購物車全部資料 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得購物車全部資料 res:"),console.dir(t),e.loadingStatus=!1}))},checkUserDatas:function(){var e=this.userDatas.user,t=e.name,s=e.email,a=e.tel,r=e.address;this.btnStatus=""===t||""===s||""===a||""===r},postOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order");this.loadingStatus=!0,this.$http.post(t,{data:this.userDatas}).then((function(t){t.data.success?(console.log("(成功-前台)送出訂單 res:",t),e.$router.push("/square/order/".concat(t.data.orderId))):(console.log("(錯誤-前台)送出訂單 res",t.data),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)送出訂單 res"),console.dir(t),e.loadingStatus=!1}))}},mounted:function(){this.getCarts()}};$.render=U;t["default"]=$}}]);
//# sourceMappingURL=chunk-02c7426b.ba6ad415.js.map