(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e9a35e6"],{"1dde":function(e,t,a){var s=a("d039"),r=a("b622"),c=a("2d00"),n=r("species");e.exports=function(e){return c>=51||!s((function(){var t=[],a=t.constructor={};return a[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var s=a("861d"),r=a("e8b5"),c=a("b622"),n=c("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?s(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var s=a("c04e"),r=a("9bf2"),c=a("5c6c");e.exports=function(e,t,a){var n=s(t);n in e?r.f(e,n,c(0,a)):e[n]=a}},"99af":function(e,t,a){"use strict";var s=a("23e7"),r=a("d039"),c=a("e8b5"),n=a("861d"),o=a("7b0b"),l=a("50c4"),i=a("8418"),u=a("65f0"),d=a("1dde"),b=a("b622"),h=a("2d00"),p=b("isConcatSpreadable"),m=9007199254740991,O="Maximum allowed index exceeded",f=h>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),j=d("concat"),g=function(e){if(!n(e))return!1;var t=e[p];return void 0!==t?!!t:c(e)},v=!f||!j;s({target:"Array",proto:!0,forced:v},{concat:function(e){var t,a,s,r,c,n=o(this),d=u(n,0),b=0;for(t=-1,s=arguments.length;t<s;t++)if(c=-1===t?n:arguments[t],g(c)){if(r=l(c.length),b+r>m)throw TypeError(O);for(a=0;a<r;a++,b++)a in c&&i(d,b,c[a])}else{if(b>=m)throw TypeError(O);i(d,b++,c)}return d.length=b,d}})},ad18:function(e,t,a){"use strict";var s=a("7a23"),r={class:"px-lg-5 py-5"},c={class:"position-relative m-5"},n={class:"progress"},o=Object(s["h"])("i",{class:"bi bi-cart4"},null,-1),l=Object(s["h"])("i",{class:"bi bi-card-list"},null,-1),i=Object(s["h"])("i",{class:"bi bi-card-checklist"},null,-1),u=Object(s["h"])("i",{class:"bi bi-credit-card"},null,-1);function d(e,t,a,d,b,h){return Object(s["t"])(),Object(s["d"])("div",r,[Object(s["h"])("div",c,[Object(s["h"])("div",n,[Object(s["h"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(a.progress,"%"),"aria-valuenow":a.progress,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(s["h"])("div",{class:["\n          position-absolute\n          top-0\n          start-0\n          translate-middle\n          progress_style\n        ",{progress_active:0===a.progress,"bg-primary":a.progress>1}]},[o],2),Object(s["h"])("div",{class:["\n          position-absolute\n          top-0\n          start-33\n          translate-middle\n          progress_style\n        ",{progress_active:33===a.progress,"bg-primary":a.progress>33}]},[l],2),Object(s["h"])("div",{class:["\n          position-absolute\n          top-0\n          start-66\n          translate-middle\n          progress_style\n        ",{progress_active:66===a.progress,"bg-primary":a.progress>66}]},[i],2),Object(s["h"])("div",{class:["\n          position-absolute\n          top-0\n          start-100\n          translate-middle\n          progress_style\n        ",{progress_active:100===a.progress}]},[u],2)])])}var b={props:["progress"]};b.render=d;t["a"]=b},b0c0:function(e,t,a){var s=a("83ab"),r=a("9bf2").f,c=Function.prototype,n=c.toString,o=/^\s*function ([^ (]*)/,l="name";s&&!(l in c)&&r(c,l,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(e){return""}}})},e8b5:function(e,t,a){var s=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}},f86d:function(e,t,a){"use strict";a.r(t);a("b0c0");var s=a("7a23"),r={class:"container pageContent"},c={class:"py-4"},n={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},o={class:"breadcrumb m-0"},l={class:"breadcrumb-item"},i=Object(s["g"])("線上商城"),u={class:"breadcrumb-item"},d=Object(s["g"])("購物車"),b=Object(s["h"])("li",{class:"breadcrumb-item active","aria-current":"page"}," 填寫訂單資料 ",-1),h=Object(s["h"])("h1",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),p={class:"container"},m={class:"row px-lg-0 px-xl-5\n        position-relative\n        justify-content-center align-items-center"},O={class:"col-xl-5 col-lg-6"},f={class:"\n                table_style\n                w-100\n                p-5\n                mb-5\n                rounded\n                bg-white\n                shadow-sm\n              "},j=Object(s["h"])("h5",{class:"text-center mb-4"},"購物明細",-1),g={class:"table text-center mb-5"},v=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("td",{scope:"col"},"商品資訊"),Object(s["h"])("td",{scope:"col"},"數量"),Object(s["h"])("td",{scope:"col"},"金額")])],-1),y={scope:"row"},x=Object(s["h"])("span",null,"NT $",-1),w={class:"h5 text-center"},_={class:"col-lg-6 mb-5"},k=Object(s["h"])("label",{for:"orderName",class:"form-label mt-3 mb-1"},[Object(s["g"])("訂購人姓名"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),D=Object(s["h"])("label",{for:"orderTel",class:"form-label mt-3 mb-1"},[Object(s["g"])("聯絡電話"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),V=Object(s["h"])("label",{for:"orderEmail",class:"form-label mt-3 mb-1"},[Object(s["g"])("Email"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),S=Object(s["h"])("label",{for:"orderAddress",class:"form-label mt-3 mb-1"},[Object(s["g"])("寄送地址"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),q=Object(s["h"])("label",{for:"orderMsg",class:"form-label mt-3 mb-1"},"備註",-1),A=Object(s["h"])("p",{class:"text-danger text-end fw-bold pt-1"},"* 為必填項目",-1),C={class:"col-12 d-flex justify-content-between mb-5"},E=Object(s["g"])(" ◁ 返回購物車 ");function U(e,t,a,U,T,$){var B=Object(s["y"])("Loading"),F=Object(s["y"])("router-link"),I=Object(s["y"])("Progress"),N=Object(s["y"])("Field"),M=Object(s["y"])("error-message"),J=Object(s["y"])("Form");return Object(s["t"])(),Object(s["d"])(s["a"],null,[Object(s["h"])(B,{status:T.loadingStatus},null,8,["status"]),Object(s["h"])("section",r,[Object(s["h"])("main",c,[Object(s["h"])("nav",n,[Object(s["h"])("ol",o,[Object(s["h"])("li",l,[Object(s["h"])(F,{to:"/products",class:"link-secondary"},{default:Object(s["I"])((function(){return[i]})),_:1})]),Object(s["h"])("li",u,[Object(s["h"])(F,{to:"/square/cart",class:"link-secondary"},{default:Object(s["I"])((function(){return[d]})),_:1})]),b])]),Object(s["h"])(I,{progress:T.progress},null,8,["progress"]),h,Object(s["h"])("div",p,[Object(s["h"])("section",m,[Object(s["h"])("div",O,[Object(s["h"])("div",f,[j,Object(s["h"])("table",g,[v,Object(s["h"])("tbody",null,[(Object(s["t"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(T.carts.carts,(function(e){return Object(s["t"])(),Object(s["d"])("tr",{key:e.id},[Object(s["h"])("td",y,Object(s["B"])(e.product.title),1),Object(s["h"])("td",null,Object(s["B"])(e.qty),1),Object(s["h"])("td",null,[x,Object(s["g"])(Object(s["B"])(e.final_total),1)])])})),128))])]),Object(s["h"])("p",w," 總金額NT $"+Object(s["B"])(T.carts.total),1)])]),Object(s["h"])("div",_,[Object(s["h"])(J,{class:"px-3",onChange:$.checkUserDatas},{default:Object(s["I"])((function(e){var a=e.errors;return[k,Object(s["h"])(N,{type:"text",id:"orderName",name:"姓名",class:["form-control",{"is-invalid":a["姓名"]}],rules:"required",modelValue:T.userDatas.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return T.userDatas.user.name=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"姓名",class:"invalid-feedback mb-1"}),D,Object(s["h"])(N,{type:"tel",id:"orderTel",name:"電話",class:["form-control",{"is-invalid":a["電話"]}],rules:"required|numeric|min:8",modelValue:T.userDatas.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return T.userDatas.user.tel=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"電話",class:"invalid-feedback mb-1"}),V,Object(s["h"])(N,{type:"email",id:"orderEmail",name:"Email",class:["form-control",{"is-invalid":a["Email"]}],rules:"required|email",modelValue:T.userDatas.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return T.userDatas.user.email=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"Email",class:"invalid-feedback mb-1"}),S,Object(s["h"])(N,{type:"text",id:"orderAddress",name:"地址",class:["form-control",{"is-invalid":a["地址"]}],rules:"required",modelValue:T.userDatas.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return T.userDatas.user.address=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"地址",class:"invalid-feedback mb-1"}),q,Object(s["h"])(N,{as:"textarea",id:"orderMsg",name:"備註",class:["form-control",{"is-invalid":a["備註"]}],modelValue:T.userDatas.message,"onUpdate:modelValue":t[5]||(t[5]=function(e){return T.userDatas.message=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"備註",class:"invalid-feedback mb-1"}),A]})),_:1},8,["onChange"])]),Object(s["h"])("div",C,[Object(s["h"])(F,{to:"/square/cart",class:"btn btn_outline_green px-3 py-1"},{default:Object(s["I"])((function(){return[E]})),_:1}),Object(s["h"])("button",{class:"btn btn_main px-3 py-1",disabled:T.btnStatus,onClick:t[6]||(t[6]=function(){return $.postOrder&&$.postOrder.apply($,arguments)})}," 送出訂單 ▷ ",8,["disabled"])])])])])])],64)}a("99af");var T=a("ad18"),$=a("1940"),B=a.n($),F={name:"Order",data:function(){return{loadingStatus:!1,btnStatus:!0,progress:33,carts:{},userDatas:{user:{},message:""},order:{id:"",data:{}}}},components:{Progress:T["a"]},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0,this.$http.get(t).then((function(t){t.data.success?(console.log("(成功-前台)取得購物車全部資料 res:",t),e.carts=t.data.data,e.carts.carts.length<1&&e.$router.push("/square/cart"),e.loadingStatus=!1,console.log("(成功-前台)取得購物車全部資料 vue:",e.carts)):(console.log("(錯誤-前台)取得購物車全部資料 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得購物車全部資料 res:"),console.dir(t),e.loadingStatus=!1}))},checkUserDatas:function(){var e=this.userDatas.user,t=e.name,a=e.email,s=e.tel,r=e.address;this.btnStatus=""===t||""===a||""===s||""===r},postOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order");this.loadingStatus=!0,this.$http.post(t,{data:this.userDatas}).then((function(t){t.data.success?(console.log("(成功-前台)送出訂單 res:",t),e.$router.push("/square/order/".concat(t.data.orderId))):(console.log("(錯誤-前台)送出訂單 res",t),e.swalFn(t.data.message,"error"),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)送出訂單 err"),console.dir(t),e.loadingStatus=!1}))},swalFn:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c={title:e,text:s,icon:t,button:r,timer:a,closeOnClickOutside:!1};B()(c)}},mounted:function(){this.getCarts()}};F.render=U;t["default"]=F}}]);
//# sourceMappingURL=chunk-4e9a35e6.bbbe5574.js.map