(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52cca8cc"],{"0004":function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),a={class:"container page-content userselect-none"},o={class:"py-4"},s=Object(c["createVNode"])("h2",{class:"h1 text-center fw-bold mb-4"}," 訂單成立 ",-1),d={class:"container"},n={class:"row px-md-1 px-lg-5 justify-content-center"},i={class:"col-md-12 col-lg-9"},l={class:"px-3 px-md-5 py-5 mb-5 rounded shadow bg-white"},b=Object(c["createVNode"])("h3",{class:"h5 text-center fw-bold mt-3"}," 訂單編號 ",-1),u={class:"text-center text-danger\n                custom-style-text-2 fw-bold mb-4 pb-3"},p=Object(c["createVNode"])("h3",{class:"h5 text-center fw-bold mt-3 mb-2"}," 訂購人資訊 ",-1),O={class:"table table-borderless custom-cart-table\n                mb-5 text-break"},j=Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"30%"}," 姓名 ",-1),m={class:"px-2 px-md-3 border",width:"70%"},h=Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"30%"}," 聯絡電話 ",-1),f={class:"px-2 px-md-3 border",width:"70%"},g=Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"30%"}," Email ",-1),V={class:"px-2 px-md-3 border",width:"70%"},x=Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"30%"}," 寄送方式 ",-1),N={class:"px-2 px-md-3 border",width:"70%"},v=Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"30%"}," 寄送地址 ",-1),y={class:"px-2 px-md-3 border",width:"70%"},w=Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"30%"}," 付款方式 ",-1),k={class:"px-2 px-md-3 border",width:"70%"},S=Object(c["createVNode"])("span",{class:"text-gray"},"(未付款)",-1),_=Object(c["createVNode"])("h3",{class:"h5 text-center fw-bold mt-3 mb-2"}," 商品項目 ",-1),B={class:"table table-borderless custom-cart-table\n                mb-5 text-center text-break"},D=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"40%"}," 品名 "),Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"20%"}," 數量 "),Object(c["createVNode"])("th",{scope:"row",class:"px-2 px-md-3 border",width:"30%"}," 金額 ")])],-1),C={scope:"row",class:"border ps-2 text-start"},T={class:"px-2 px-md-3 border"},$={class:"px-2 px-md-3 border"},P={class:"h5 text-center mb-3"},A={class:"col-12 d-flex justify-content-center mb-2 mb-md-5"},J=Object(c["createTextVNode"])(" 繼續選購 "),L=Object(c["createTextVNode"])(" 我要付款 ");function E(e,t,r,E,F,M){var q=Object(c["resolveComponent"])("Loading"),I=Object(c["resolveComponent"])("Breadcrumb"),z=Object(c["resolveComponent"])("CartProgress"),G=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(q,{status:F.loadingStatus},null,8,["status"]),Object(c["createVNode"])("section",a,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])(I,{"breadcrumb-data":F.breadcrumbData},null,8,["breadcrumb-data"]),Object(c["createVNode"])(z,{"progress-value":F.progressNum},null,8,["progress-value"]),s,Object(c["createVNode"])("main",d,[Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("section",l,[b,Object(c["createVNode"])("p",u,Object(c["toDisplayString"])(F.order.id),1),p,Object(c["createVNode"])("table",O,[Object(c["createVNode"])("tbody",null,[Object(c["createVNode"])("tr",null,[j,Object(c["createVNode"])("td",m,Object(c["toDisplayString"])(F.order.data.user.name),1)]),Object(c["createVNode"])("tr",null,[h,Object(c["createVNode"])("td",f,Object(c["toDisplayString"])(F.order.data.user.tel),1)]),Object(c["createVNode"])("tr",null,[g,Object(c["createVNode"])("td",V,Object(c["toDisplayString"])(F.order.data.user.email),1)]),Object(c["createVNode"])("tr",null,[x,Object(c["createVNode"])("td",N,Object(c["toDisplayString"])(F.order.data.user.delivery),1)]),Object(c["createVNode"])("tr",null,[v,Object(c["createVNode"])("td",y,Object(c["toDisplayString"])(F.order.data.user.address),1)]),Object(c["createVNode"])("tr",null,[w,Object(c["createVNode"])("td",k,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(F.order.data.user.payment)+" ",1),S])])])]),_,Object(c["createVNode"])("table",B,[D,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(F.order.data.products,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t.id},[Object(c["createVNode"])("td",C,Object(c["toDisplayString"])(t.product.title),1),Object(c["createVNode"])("td",T,Object(c["toDisplayString"])(t.qty)+" "+Object(c["toDisplayString"])(t.product.unit),1),Object(c["createVNode"])("td",$," NT $"+Object(c["toDisplayString"])(e.$filters.currency(t.total)),1)])})),128))])]),Object(c["createVNode"])("p",P," 總金額NT $"+Object(c["toDisplayString"])(e.$filters.currency(F.order.data.total)),1)])]),Object(c["createVNode"])("div",A,["貨到付款"===F.order.data.user.payment?(Object(c["openBlock"])(),Object(c["createBlock"])(G,{key:0,to:"/products",class:"btn custom-btn-main px-3 py-1"},{default:Object(c["withCtx"])((function(){return[J]})),_:1})):(Object(c["openBlock"])(),Object(c["createBlock"])(G,{key:1,to:"/orderPaid",class:"btn custom-btn-main px-3 py-1",onClick:M.goPay},{default:Object(c["withCtx"])((function(){return[L]})),_:1},8,["onClick"]))])])])])])],64)}r("99af");var F=r("4897"),M=r("3a72"),q=r("2fbc"),I=r("0e54"),z={name:"OrderCheck",props:["orderId"],data:function(){return{loadingStatus:!1,btnStatus:!0,progressNum:66,order:{id:"",data:{products:{},user:{},total:0}},breadcrumbData:{previous:[{title:"線上商城",url:"/products"},{title:"購物車",url:"/cart"}],purpose:"訂單確認"}}},components:{CartProgress:I["a"],Breadcrumb:q["a"]},methods:{getOrder:function(e){var t=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order/").concat(e);this.loadingStatus=!0,this.$http.get(r).then((function(e){e.data.success?(t.order.data.products=JSON.parse(JSON.stringify(e.data.order.products)),t.order.data.user=JSON.parse(JSON.stringify(e.data.order.user)),t.order.data.total=e.data.order.total,t.updateCartLength(),t.loadingStatus=!1):(Object(F["d"])("資料取得失敗","請重新整理",!0,"top-end"),t.loadingStatus=!1)})).catch((function(){Object(F["d"])("資料取得失敗","請重新整理",!0,"top-end"),t.loadingStatus=!1}))},goPay:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/pay/").concat(this.order.id);this.loadingStatus=!0,this.$http.post(t).then((function(t){t.data.success?(e.loadingStatus=!1,e.$router.push("/orderPaid")):(Object(F["d"])("付款失敗","請聯絡客服人員",!0,"top-end"),e.loadingStatus=!1)})).catch((function(){Object(F["d"])("付款失敗","請聯絡客服人員",!0,"top-end"),e.loadingStatus=!1}))},updateCartLength:function(){var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.$http.get(e).then((function(e){e.data.success?M["a"].emit("cart-number",e.data.data.carts.length):Object(F["d"])("購物車資料異常","請重新整理",!0,"top-end")})).catch((function(){Object(F["d"])("購物車資料異常","請重新整理",!0,"top-end")}))},backTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}},mounted:function(){this.backTop(),this.order.id=this.$route.params.id,this.getOrder(this.order.id),Object(F["f"])("已建立訂單","success",!0,"top-end")}};z.render=E;t["default"]=z},"0b42":function(e,t,r){var c=r("861d"),a=r("e8b5"),o=r("b622"),s=o("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)?c(t)&&(t=t[s],null===t&&(t=void 0)):t=void 0),void 0===t?Array:t}},"0e54":function(e,t,r){"use strict";var c=r("7a23"),a={class:"px-lg-5 py-2 py-md-5"},o={class:"position-relative m-5"},s={class:"progress"},d=Object(c["createVNode"])("i",{class:"bi bi-cart4"},null,-1),n=Object(c["createVNode"])("i",{class:"bi bi-card-list"},null,-1),i=Object(c["createVNode"])("i",{class:"bi bi-card-checklist"},null,-1),l=Object(c["createVNode"])("i",{class:"bi bi-credit-card"},null,-1);function b(e,t,r,b,u,p){return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(r.progressValue,"%"),"aria-valuenow":r.progressValue,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(c["createVNode"])("div",{class:["custom__progress position-absolute top-0 start-0 translate-middle",{"custom__progress--active":0===r.progressValue,"bg-primary":r.progressValue>1}]},[d],2),Object(c["createVNode"])("div",{class:["custom__progress position-absolute top-0 start-33 translate-middle",{"custom__progress--active":33===r.progressValue,"bg-primary":r.progressValue>33}]},[n],2),Object(c["createVNode"])("div",{class:["custom__progress position-absolute top-0 start-66 translate-middle",{"custom__progress--active":66===r.progressValue,"bg-primary":r.progressValue>66}]},[i],2),Object(c["createVNode"])("div",{class:["custom__progress position-absolute top-0 start-100 translate-middle",{"custom__progress--active":100===r.progressValue}]},[l],2)])])}var u={name:"CartProgress",props:["progressValue"]};u.render=b;t["a"]=u},"1dde":function(e,t,r){var c=r("d039"),a=r("b622"),o=r("2d00"),s=a("species");e.exports=function(e){return o>=51||!c((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2fbc":function(e,t,r){"use strict";var c=r("7a23"),a={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},o={class:"breadcrumb m-0"},s={class:"breadcrumb-item active","aria-current":"page"};function d(e,t,r,d,n,i){var l=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("nav",a,[Object(c["createVNode"])("ul",o,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.breadcrumbData.previous,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:"麵包屑_".concat(t),class:"breadcrumb-item"},[Object(c["createVNode"])(l,{to:e.url,class:"link-success-light"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.title),1)]})),_:2},1032,["to"])])})),128)),Object(c["createVNode"])("li",s,Object(c["toDisplayString"])(r.breadcrumbData.purpose),1)])])])}var n={name:"Breadcrumb.vue",props:["breadcrumbData"]};n.render=d;t["a"]=n},"3a72":function(e,t,r){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,r){var c=e.get(t);c&&c.push(r)||e.set(t,[r])},off:function(t,r){var c=e.get(t);c&&c.splice(c.indexOf(r)>>>0,1)},emit:function(t,r){(e.get(t)||[]).slice().map((function(e){e(r)})),(e.get("*")||[]).slice().map((function(e){e(t,r)}))}}};t["a"]=c()},"65f0":function(e,t,r){var c=r("0b42");e.exports=function(e,t){return new(c(e))(0===t?0:t)}},8418:function(e,t,r){"use strict";var c=r("a04b"),a=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var s=c(t);s in e?a.f(e,s,o(0,r)):e[s]=r}},"99af":function(e,t,r){"use strict";var c=r("23e7"),a=r("d039"),o=r("e8b5"),s=r("861d"),d=r("7b0b"),n=r("50c4"),i=r("8418"),l=r("65f0"),b=r("1dde"),u=r("b622"),p=r("2d00"),O=u("isConcatSpreadable"),j=9007199254740991,m="Maximum allowed index exceeded",h=p>=51||!a((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),f=b("concat"),g=function(e){if(!s(e))return!1;var t=e[O];return void 0!==t?!!t:o(e)},V=!h||!f;c({target:"Array",proto:!0,forced:V},{concat:function(e){var t,r,c,a,o,s=d(this),b=l(s,0),u=0;for(t=-1,c=arguments.length;t<c;t++)if(o=-1===t?s:arguments[t],g(o)){if(a=n(o.length),u+a>j)throw TypeError(m);for(r=0;r<a;r++,u++)r in o&&i(b,u,o[r])}else{if(u>=j)throw TypeError(m);i(b,u++,o)}return b.length=u,b}})},b0c0:function(e,t,r){var c=r("83ab"),a=r("9bf2").f,o=Function.prototype,s=o.toString,d=/^\s*function ([^ (]*)/,n="name";c&&!(n in o)&&a(o,n,{configurable:!0,get:function(){try{return s.call(this).match(d)[1]}catch(e){return""}}})},e8b5:function(e,t,r){var c=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=chunk-52cca8cc.489a2818.js.map