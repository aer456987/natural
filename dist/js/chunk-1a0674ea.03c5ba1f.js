(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a0674ea"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,r){var n=r("c6b6"),c=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var a=r.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return c.call(t,e)}},"159b":function(t,e,r){var n=r("da84"),c=r("fdbc"),a=r("17c2"),o=r("9112");for(var i in c){var s=n[i],u=s&&s.prototype;if(u&&u.forEach!==a)try{o(u,"forEach",a)}catch(l){u.forEach=a}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,c=r("a640"),a=c("forEach");t.exports=a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,r){var n=r("d039"),c=r("b622"),a=r("2d00"),o=c("species");t.exports=function(t){return a>=51||!n((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3a72":function(t,e,r){"use strict";var n=function(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n&&n.push(r)||t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&n.splice(n.indexOf(r)>>>0,1)},emit:function(e,r){(t.get(e)||[]).slice().map((function(t){t(r)})),(t.get("*")||[]).slice().map((function(t){t(e,r)}))}}};e["a"]=n()},"466d":function(t,e,r){"use strict";var n=r("d784"),c=r("825a"),a=r("50c4"),o=r("1d80"),i=r("8aa5"),s=r("14c3");n("match",1,(function(t,e,r){return[function(e){var r=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var o=c(t),u=String(this);if(!o.global)return s(o,u);var l=o.unicode;o.lastIndex=0;var d,f=[],p=0;while(null!==(d=s(o,u))){var b=String(d[0]);f[p]=b,""===b&&(o.lastIndex=i(u,a(o.lastIndex),l)),p++}return 0===p?null:f}]}))},"4de4":function(t,e,r){"use strict";var n=r("23e7"),c=r("b727").filter,a=r("1dde"),o=a("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),c=r("5899"),a="["+c+"]",o=RegExp("^"+a+a+"*"),i=RegExp(a+a+"*$"),s=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(i,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},"65f0":function(t,e,r){var n=r("861d"),c=r("e8b5"),a=r("b622"),o=a("species");t.exports=function(t,e){var r;return c(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?n(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},7156:function(t,e,r){var n=r("861d"),c=r("d2bb");t.exports=function(t,e,r){var a,o;return c&&"function"==typeof(a=e.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&c(t,o),t}},8418:function(t,e,r){"use strict";var n=r("c04e"),c=r("9bf2"),a=r("5c6c");t.exports=function(t,e,r){var o=n(e);o in t?c.f(t,o,a(0,r)):t[o]=r}},"841c":function(t,e,r){"use strict";var n=r("d784"),c=r("825a"),a=r("1d80"),o=r("129f"),i=r("14c3");n("search",1,(function(t,e,r){return[function(e){var r=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var a=c(t),s=String(this),u=a.lastIndex;o(u,0)||(a.lastIndex=0);var l=i(a,s);return o(a.lastIndex,u)||(a.lastIndex=u),null===l?-1:l.index}]}))},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},9263:function(t,e,r){"use strict";var n=r("ad6d"),c=r("9f7f"),a=r("5692"),o=RegExp.prototype.exec,i=a("native-string-replace",String.prototype.replace),s=o,u=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=c.UNSUPPORTED_Y||c.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],f=u||d||l;f&&(s=function(t){var e,r,c,a,s=this,f=l&&s.sticky,p=n.call(s),b=s.source,h=0,g=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(b="(?: "+b+")",g=" "+g,h++),r=new RegExp("^(?:"+b+")",p)),d&&(r=new RegExp("^"+b+"$(?!\\s)",p)),u&&(e=s.lastIndex),c=o.call(f?r:s,g),f?c?(c.input=c.input.slice(h),c[0]=c[0].slice(h),c.index=s.lastIndex,s.lastIndex+=c[0].length):s.lastIndex=0:u&&c&&(s.lastIndex=s.global?c.index+c[0].length:e),d&&c&&c.length>1&&i.call(c[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(c[a]=void 0)})),c}),t.exports=s},"99af":function(t,e,r){"use strict";var n=r("23e7"),c=r("d039"),a=r("e8b5"),o=r("861d"),i=r("7b0b"),s=r("50c4"),u=r("8418"),l=r("65f0"),d=r("1dde"),f=r("b622"),p=r("2d00"),b=f("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!c((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),m=d("concat"),x=function(t){if(!o(t))return!1;var e=t[b];return void 0!==e?!!e:a(t)},O=!v||!m;n({target:"Array",proto:!0,forced:O},{concat:function(t){var e,r,n,c,a,o=i(this),d=l(o,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?o:arguments[e],x(a)){if(c=s(a.length),f+c>h)throw TypeError(g);for(r=0;r<c;r++,f++)r in a&&u(d,f,a[r])}else{if(f>=h)throw TypeError(g);u(d,f++,a)}return d.length=f,d}})},"9c98":function(t,e,r){t.exports=r.p+"img/productBackImg.5e589500.jpg"},"9f7f":function(t,e,r){"use strict";var n=r("d039");function c(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=c("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=c("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,r){"use strict";var n=r("83ab"),c=r("da84"),a=r("94ca"),o=r("6eeb"),i=r("5135"),s=r("c6b6"),u=r("7156"),l=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,b=r("06cf").f,h=r("9bf2").f,g=r("58a8").trim,v="Number",m=c[v],x=m.prototype,O=s(f(x))==v,y=function(t){var e,r,n,c,a,o,i,s,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=g(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+u}for(a=u.slice(2),o=a.length,i=0;i<o;i++)if(s=a.charCodeAt(i),s<48||s>c)return NaN;return parseInt(a,n)}return+u};if(a(v,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var j,E=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof E&&(O?d((function(){x.valueOf.call(r)})):s(r)!=v)?u(new m(y(e)),r,E):y(e)},I=n?p(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;I.length>S;S++)i(m,j=I[S])&&!i(E,j)&&h(E,j,b(m,j));E.prototype=x,x.constructor=E,o(c,v,E)}},ac1f:function(t,e,r){"use strict";var n=r("23e7"),c=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b727:function(t,e,r){var n=r("0366"),c=r("44ad"),a=r("7b0b"),o=r("50c4"),i=r("65f0"),s=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,d=6==t,f=7==t,p=5==t||d;return function(b,h,g,v){for(var m,x,O=a(b),y=c(O),j=n(h,g,3),E=o(y.length),I=0,S=v||i,w=e?S(b,E):r||f?S(b,0):void 0;E>I;I++)if((p||I in y)&&(m=y[I],x=j(m,I,O),t))if(e)w[I]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return I;case 2:s.call(w,m)}else switch(t){case 4:return!1;case 7:s.call(w,m)}return d?-1:u||l?l:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},d784:function(t,e,r){"use strict";r("ac1f");var n=r("6eeb"),c=r("9263"),a=r("d039"),o=r("b622"),i=r("9112"),s=o("species"),u=RegExp.prototype,l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),p=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),b=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,f){var h=o(t),g=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=g&&!a((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return e=!0,null},r[h](""),!e}));if(!g||!v||"replace"===t&&(!l||!d||p)||"split"===t&&!b){var m=/./[h],x=r(h,""[t],(function(t,e,r,n,a){var o=e.exec;return o===c||o===u.exec?g&&!a?{done:!0,value:m.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),O=x[0],y=x[1];n(String.prototype,t,O),n(u,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}f&&i(u[h],"sham",!0)}},e6dc:function(t,e,r){"use strict";r.r(e);r("ac1f"),r("841c");var n=r("7a23"),c=r("9c98"),a=r.n(c),o=Object(n["h"])("header",{class:"header position-relative"},[Object(n["h"])("img",{class:"img-fluid w-100 shadow",src:a.a,alt:"首圖"})],-1),i={class:"container pageContent"},s={class:"py-4"},u={class:"row justify-content-between align-items-center"},l={class:"col-6"},d={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},f={class:"breadcrumb m-0"},p={class:"breadcrumb-item"},b=Object(n["g"])("首頁"),h=Object(n["h"])("li",{class:"breadcrumb-item active","aria-current":"page"}," 線上商城 ",-1),g={class:"col-6 col-md-4 col-lg-3\n          position-relative"},v=Object(n["h"])("h1",{class:"pb-5 text-center fw-bold py-3 m-0"},"線上商城",-1),m={class:"py-3"},x={class:"row list-unstyled"},O={class:"text-end"};function y(t,e,r,c,a,y){var j=Object(n["y"])("Loading"),E=Object(n["y"])("ProductFilterList"),I=Object(n["y"])("router-link"),S=Object(n["y"])("ProductCard");return Object(n["t"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(j,{status:a.loadingStatus},null,8,["status"]),Object(n["h"])(E,{class:"sticky-top",products:a.products},null,8,["products"]),o,Object(n["h"])("section",i,[Object(n["h"])("main",s,[Object(n["h"])("div",u,[Object(n["h"])("span",l,[Object(n["h"])("nav",d,[Object(n["h"])("ol",f,[Object(n["h"])("li",p,[Object(n["h"])(I,{to:"/",class:"link-secondary"},{default:Object(n["J"])((function(){return[b]})),_:1})]),h])])]),Object(n["h"])("span",g,[Object(n["h"])("i",{class:"bi bi-x-lg\n            btn_light_green fs-6\n            position-absolute top-50 end-0 translate-middle",onClick:e[1]||(e[1]=function(){return y.clearSearch&&y.clearSearch.apply(y,arguments)})}),Object(n["K"])(Object(n["h"])("input",{type:"text",class:"col-sm-9 form-control",placeholder:"請輸入關鍵字","aria-label":"search","aria-describedby":"basic-addon1","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.search=t})},null,512),[[n["G"],a.search]])])]),v,Object(n["h"])("div",m,[Object(n["h"])("ul",x,[Object(n["h"])(S,{"cart-product-data":y.filterProducts},null,8,["cart-product-data"])]),Object(n["h"])("p",O,"共有 "+Object(n["B"])(y.filterProducts.length)+" 件商品",1)])])])],64)}r("4de4"),r("466d"),r("99af");var j={class:"card border-0 shadow-sm"},E={class:"more_msg"},I={class:"card-body bg-white rounded-bottom px-2 py-3\n          d-flex justify-content-between align-items-center"},S={class:"h4 m-0 text-truncate"},w=Object(n["h"])("br",null,null,-1),_={class:"h6 fst-italic"},P=Object(n["h"])("i",{class:"bi bi-cart-plus-fill"},null,-1);function N(t,e,r,c,a,o){var i=Object(n["y"])("Loading"),s=Object(n["y"])("Font-awesome-icon"),u=Object(n["y"])("router-link");return Object(n["t"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(i,{status:a.loadingStatus},null,8,["status"]),(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(r.cartProductData,(function(t){return Object(n["t"])(),Object(n["d"])("li",{class:"col-sm-6 col-lg-4 col-xl-3 my-2",key:t.id},[Object(n["h"])("div",j,[Object(n["h"])(u,{to:"/product/".concat(t.id),class:"card-img-top card_img_style"},{default:Object(n["J"])((function(){return[Object(n["h"])("div",E,[Object(n["h"])(s,{icon:"search-plus"})]),Object(n["h"])("img",{class:"img-fluid",src:t.imageUrl,alt:"'商品圖"},null,8,["src"])]})),_:2},1032,["to"]),Object(n["h"])("div",I,[Object(n["h"])("h1",S,[Object(n["g"])(Object(n["B"])(t.title)+" ",1),w,Object(n["h"])("span",_," $"+Object(n["B"])(t.price),1)]),Object(n["h"])("span",{class:"btn btn_outline_green fs-4 ms-1",onClick:function(e){return o.addCart(t.id)}},[P],8,["onClick"])])])])})),128))],64)}r("a9e3"),r("159b");var A=r("3a72"),R=r("4897"),k={name:"ProductCard",props:["cartProductData"],data:function(){return{loadingStatus:!1,data:{product_id:"",qty:1},cartsLength:Number}},methods:{addCart:function(t){var e=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0;var n={data:{product_id:t,qty:1}};this.$http.post(r,n).then((function(t){t.data.success?(console.log("(成功-card)加入購物車 res:",t),Object(R["b"])(t.data.message,"success"),e.loadingStatus=!1,e.updateCartLength()):(console.log("(錯誤-card)加入購物車 res:",t),Object(R["b"])(t.data.message,"error"),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-card)加入購物車 err:"),console.dir(t),e.loadingStatus=!1}))},updateCartLength:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.$http.get(e).then((function(e){if(e.data.success){var r=0;t.cartsLength=e.data.data.carts.forEach((function(t){r+=t.qty})),t.cartsLength=r,A["a"].emit("cart-number",t.cartsLength)}else console.log("(錯誤-cart)取得購物車數量 res:",e)})).catch((function(t){console.log("(失敗-cart)取得購物車數量 err:"),console.dir(t)}))}}};k.render=N;var C=k,T={class:"row text-center bg-secondary m-0 shadow"},L=Object(n["h"])("div",{class:"btn-group p-0",role:"group","aria-label":"Basic radio toggle button group"},[Object(n["h"])("input",{type:"radio",name:"btnradio",autocomplete:"off",id:"all",class:"btn-check",checked:""}),Object(n["h"])("label",{class:"btn btn-outline-primary py-1 border-0 rounded-0",for:"all"},"全部商品"),Object(n["h"])("input",{type:"radio",name:"btnradio",autocomplete:"off",id:"fundraise",class:"btn-check"}),Object(n["h"])("label",{class:"btn btn-outline-primary py-1 border-0",for:"fundraise"},"募款專案"),Object(n["h"])("input",{type:"radio",name:"btnradio",autocomplete:"off",id:"feeds",class:"btn-check"}),Object(n["h"])("label",{class:"btn btn-outline-primary py-1 border-0",for:"feeds"},"飼料"),Object(n["h"])("input",{type:"radio",name:"btnradio",autocomplete:"off",id:"cages",class:"btn-check"}),Object(n["h"])("label",{class:"btn btn-outline-primary py-1 border-0",for:"cages"},"籠具"),Object(n["h"])("input",{type:"radio",name:"btnradio",autocomplete:"off",id:"toys",class:"btn-check"}),Object(n["h"])("label",{class:"btn btn-outline-primary py-1 border-0",for:"toys"},"玩具"),Object(n["h"])("input",{type:"radio",name:"btnradio",autocomplete:"off",id:"stationery",class:"btn-check"}),Object(n["h"])("label",{class:"btn btn-outline-primary py-1 border-0 rounded-0",for:"stationery"},"文青周邊")],-1);function U(t,e,r,c,a,o){return Object(n["t"])(),Object(n["d"])("nav",T,[L])}var F={name:"ProductFilterList"};F.render=U;var $=F,B={name:"Products",data:function(){return{loadingStatus:!1,search:"",tempProducts:[],products:[]}},computed:{filterProducts:function(){var t=this;return this.products.filter((function(e){return e.title.match(t.search)}))}},components:{ProductCard:C,ProductFilterList:$},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/products/all");this.loadingStatus=!0,this.$http.get(e).then((function(e){e.data.success?(console.log("(成功-前台)取得全部商品資料 res:",e),t.tempProducts=e.data.products,t.products=e.data.products,console.log("(成功-前台)取得全部商品資料 vue:",t.products),t.loadingStatus=!1):(console.log("(錯誤-前台)取得全部商品資料 res:",e),t.loadingStatus=!1)})).catch((function(e){console.log("(失敗-前台)取得全部商品資料 res:"),console.dir(e),t.loadingStatus=!1}))},clearSearch:function(){this.search=""}},mounted:function(){this.getProducts()}};B.render=y;e["default"]=B},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-1a0674ea.03c5ba1f.js.map