(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49304170"],{"0e54":function(t,e,r){"use strict";var c=r("7a23"),s={class:"px-lg-5 py-5"},a={class:"position-relative m-5"},o={class:"progress"},n=Object(c["h"])("i",{class:"bi bi-cart4"},null,-1),i=Object(c["h"])("i",{class:"bi bi-card-list"},null,-1),l=Object(c["h"])("i",{class:"bi bi-card-checklist"},null,-1),d=Object(c["h"])("i",{class:"bi bi-credit-card"},null,-1);function b(t,e,r,b,u,p){return Object(c["t"])(),Object(c["d"])("div",s,[Object(c["h"])("div",a,[Object(c["h"])("div",o,[Object(c["h"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(r.progressValue,"%"),"aria-valuenow":r.progressValue,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(c["h"])("div",{class:["progress_style position-absolute top-0 start-0 translate-middle",{progress_active:0===r.progressValue,"bg-primary":r.progressValue>1}]},[n],2),Object(c["h"])("div",{class:["progress_style position-absolute top-0 start-33 translate-middle",{progress_active:33===r.progressValue,"bg-primary":r.progressValue>33}]},[i],2),Object(c["h"])("div",{class:["progress_style position-absolute top-0 start-66 translate-middle",{progress_active:66===r.progressValue,"bg-primary":r.progressValue>66}]},[l],2),Object(c["h"])("div",{class:["progress_style position-absolute top-0 start-100 translate-middle",{progress_active:100===r.progressValue}]},[d],2)])])}var u={name:"CartProgress",props:["progressValue"]};u.render=b;e["a"]=u},"1dde":function(t,e,r){var c=r("d039"),s=r("b622"),a=r("2d00"),o=s("species");t.exports=function(t){return a>=51||!c((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var c=r("1d80"),s=r("5899"),a="["+s+"]",o=RegExp("^"+a+a+"*"),n=RegExp(a+a+"*$"),i=function(t){return function(e){var r=String(c(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(n,"")),r}};t.exports={start:i(1),end:i(2),trim:i(3)}},"65f0":function(t,e,r){var c=r("861d"),s=r("e8b5"),a=r("b622"),o=a("species");t.exports=function(t,e){var r;return s(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?c(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},7156:function(t,e,r){var c=r("861d"),s=r("d2bb");t.exports=function(t,e,r){var a,o;return s&&"function"==typeof(a=e.constructor)&&a!==r&&c(o=a.prototype)&&o!==r.prototype&&s(t,o),t}},8418:function(t,e,r){"use strict";var c=r("c04e"),s=r("9bf2"),a=r("5c6c");t.exports=function(t,e,r){var o=c(e);o in t?s.f(t,o,a(0,r)):t[o]=r}},"99af":function(t,e,r){"use strict";var c=r("23e7"),s=r("d039"),a=r("e8b5"),o=r("861d"),n=r("7b0b"),i=r("50c4"),l=r("8418"),d=r("65f0"),b=r("1dde"),u=r("b622"),p=r("2d00"),h=u("isConcatSpreadable"),O=9007199254740991,f="Maximum allowed index exceeded",j=p>=51||!s((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=b("concat"),v=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)},m=!j||!g;c({target:"Array",proto:!0,forced:m},{concat:function(t){var e,r,c,s,a,o=n(this),b=d(o,0),u=0;for(e=-1,c=arguments.length;e<c;e++)if(a=-1===e?o:arguments[e],v(a)){if(s=i(a.length),u+s>O)throw TypeError(f);for(r=0;r<s;r++,u++)r in a&&l(b,u,a[r])}else{if(u>=O)throw TypeError(f);l(b,u++,a)}return b.length=u,b}})},a9e3:function(t,e,r){"use strict";var c=r("83ab"),s=r("da84"),a=r("94ca"),o=r("6eeb"),n=r("5135"),i=r("c6b6"),l=r("7156"),d=r("c04e"),b=r("d039"),u=r("7c73"),p=r("241c").f,h=r("06cf").f,O=r("9bf2").f,f=r("58a8").trim,j="Number",g=s[j],v=g.prototype,m=i(u(v))==j,y=function(t){var e,r,c,s,a,o,n,i,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=f(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:c=2,s=49;break;case 79:case 111:c=8,s=55;break;default:return+l}for(a=l.slice(2),o=a.length,n=0;n<o;n++)if(i=a.charCodeAt(n),i<48||i>s)return NaN;return parseInt(a,c)}return+l};if(a(j,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof w&&(m?b((function(){v.valueOf.call(r)})):i(r)!=j)?l(new g(y(e)),r,w):y(e)},N=c?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;N.length>S;S++)n(g,x=N[S])&&!n(w,x)&&O(w,x,h(g,x));w.prototype=v,v.constructor=w,o(s,j,w)}},b0c0:function(t,e,r){var c=r("83ab"),s=r("9bf2").f,a=Function.prototype,o=a.toString,n=/^\s*function ([^ (]*)/,i="name";c&&!(i in a)&&s(a,i,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(t){return""}}})},ddd1:function(t,e,r){"use strict";r.r(e);r("b0c0");var c=r("7a23"),s={class:"container pageContent"},a={class:"py-4"},o={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},n={class:"breadcrumb m-0"},i={class:"breadcrumb-item"},l=Object(c["g"])("線上商城"),d={class:"breadcrumb-item"},b=Object(c["g"])("購物車"),u=Object(c["h"])("li",{class:"breadcrumb-item active","aria-current":"page"},"訂單確認",-1),p=Object(c["h"])("h1",{class:"text-center fw-bold mb-4"},"訂單成立",-1),h={class:"container"},O={class:"row px-md-1 px-lg-5 justify-content-center"},f={class:"col-md-12 col-lg-9"},j={class:"px-5 py-5 mb-5 rounded shadow bg-white"},g=Object(c["h"])("h3",{class:"h5 text-center fw-bold mt-3"},"訂單編號",-1),v={class:"text-center text-danger fw-bold mb-4 pb-3"},m=Object(c["h"])("h3",{class:"h5 text-center fw-bold mt-3 mb-2"},"訂購人資訊",-1),y={class:"table table-borderless mb-5"},x=Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 姓名 ",-1),w={class:"px-3 border",width:"70%"},N=Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 聯絡電話 ",-1),S={class:"px-3 border",width:"70%"},_=Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," Email ",-1),I={class:"px-3 border",width:"70%"},A=Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 寄送方式 ",-1),E={class:"px-3 border",width:"70%"},k=Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 寄送地址 ",-1),V={class:"px-3 border",width:"70%"},B=Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 付款方式 ",-1),C={class:"px-3 border",width:"70%"},T=Object(c["h"])("span",{class:"text-gray"},"(未付款)",-1),P=Object(c["h"])("h3",{class:"h5 text-center fw-bold mt-3 mb-2"},"商品項目",-1),$={class:"table table-borderless mb-5 text-center text-break"},F=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 品名 "),Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 數量 "),Object(c["h"])("th",{scope:"row",class:"px-3 border",width:"30%"}," 金額 ")])],-1),J={scope:"row",class:"border"},M={class:"px-3 border"},q={class:"px-3 border"},K={class:"h5 text-center mb-3"},L={class:"col-12 d-flex justify-content-center mb-5"},R=Object(c["g"])(" 繼續選購 "),G=Object(c["g"])("我要付款");function U(t,e,r,U,X,Y){var z=Object(c["y"])("Loading"),D=Object(c["y"])("router-link"),H=Object(c["y"])("Progress");return Object(c["t"])(),Object(c["d"])(c["a"],null,[Object(c["h"])(z,{status:X.loadingStatus},null,8,["status"]),Object(c["h"])("section",s,[Object(c["h"])("section",a,[Object(c["h"])("nav",o,[Object(c["h"])("ol",n,[Object(c["h"])("li",i,[Object(c["h"])(D,{to:"/products",class:"link-secondary"},{default:Object(c["K"])((function(){return[l]})),_:1})]),Object(c["h"])("li",d,[Object(c["h"])(D,{to:"/square/cart",class:"link-secondary"},{default:Object(c["K"])((function(){return[b]})),_:1})]),u])]),Object(c["h"])(H,{"progress-value":X.progressNum},null,8,["progress-value"]),p,Object(c["h"])("section",h,[Object(c["h"])("section",O,[Object(c["h"])("main",f,[Object(c["h"])("section",j,[g,Object(c["h"])("p",v,Object(c["B"])(X.order.id),1),m,Object(c["h"])("table",y,[Object(c["h"])("tbody",null,[Object(c["h"])("tr",null,[x,Object(c["h"])("td",w,Object(c["B"])(X.order.data.user.name),1)]),Object(c["h"])("tr",null,[N,Object(c["h"])("td",S,Object(c["B"])(X.order.data.user.tel),1)]),Object(c["h"])("tr",null,[_,Object(c["h"])("td",I,Object(c["B"])(X.order.data.user.email),1)]),Object(c["h"])("tr",null,[A,Object(c["h"])("td",E,Object(c["B"])(X.order.data.user.delivery),1)]),Object(c["h"])("tr",null,[k,Object(c["h"])("td",V,Object(c["B"])(X.order.data.user.address),1)]),Object(c["h"])("tr",null,[B,Object(c["h"])("td",C,[Object(c["g"])(Object(c["B"])(X.order.data.user.payment)+" ",1),T])])])]),P,Object(c["h"])("table",$,[F,(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(X.order.data.products,(function(e){return Object(c["t"])(),Object(c["d"])("tbody",{key:e.id},[Object(c["h"])("tr",null,[Object(c["h"])("td",J,Object(c["B"])(e.product.title),1),Object(c["h"])("td",M,Object(c["B"])(e.qty)+" "+Object(c["B"])(e.product.unit),1),Object(c["h"])("td",q," NT $"+Object(c["B"])(t.$filters.currency(e.total)),1)])])})),128))]),Object(c["h"])("p",K," 總金額NT $"+Object(c["B"])(t.$filters.currency(X.order.data.total)),1)])]),Object(c["h"])("div",L,["貨到付款"===X.order.data.user.payment?(Object(c["t"])(),Object(c["d"])(D,{key:0,to:"/products",class:"btn btn_main px-3 py-1"},{default:Object(c["K"])((function(){return[R]})),_:1})):(Object(c["t"])(),Object(c["d"])(D,{key:1,to:"/square/orderPaid",class:"btn btn_main px-3 py-1",onClick:Y.goPay},{default:Object(c["K"])((function(){return[G]})),_:1},8,["onClick"]))])])])])])],64)}r("a9e3"),r("99af");var X=r("0e54"),Y=r("4897"),z={name:"OrderCheck",props:["orderId"],data:function(){return{loadingStatus:!1,btnStatus:!0,progressNum:66,order:{id:"",data:{products:{},user:{},total:Number}}}},components:{Progress:X["a"]},methods:{getOrder:function(t){var e=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order/").concat(t);this.loadingStatus=!0,this.$http.get(r).then((function(t){t.data.success?(console.log("(成功-前台)取得單筆訂單 res:",t),e.order.data.products=JSON.parse(JSON.stringify(t.data.order.products)),e.order.data.user=JSON.parse(JSON.stringify(t.data.order.user)),e.order.data.total=t.data.order.total,console.log("products",e.order.data.products),console.log("user",e.order.data.user),e.loadingStatus=!1):(console.log("(錯誤-前台)取得單筆訂單 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得單筆訂單 err:"),console.dir(t),e.loadingStatus=!1}))},goPay:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/pay/").concat(this.order.id);this.loadingStatus=!0,this.$http.post(e).then((function(e){e.data.success?(console.log("(成功-前台)訂單付款 res:",e),t.loadingStatus=!1,t.$router.push("/square/orderPaid")):(console.log("(錯誤-前台)訂單付款 res:",e.data),t.loadingStatus=!1)})).catch((function(e){console.log("(失敗-前台)訂單付款 err"),console.dir(e),t.loadingStatus=!1}))}},mounted:function(){this.order.id=this.$route.params.id,this.getOrder(this.order.id),Object(Y["c"])("已建立訂單","success",2e3,"訂單編號：".concat(this.order.id))}};z.render=U;e["default"]=z},e8b5:function(t,e,r){var c=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-49304170.45b35db5.js.map