(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b405d74a"],{"0a6e":function(e,t,o){"use strict";o.r(t);var a=o("7a23");function n(e,t,o,n,c,r){var s=Object(a["resolveComponent"])("DashboardLoading"),i=Object(a["resolveComponent"])("DashboardNavbar"),u=Object(a["resolveComponent"])("router-view"),l=Object(a["resolveComponent"])("Footer"),d=Object(a["resolveComponent"])("GoToTopBtn");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(s,{status:c.loadingStatus},null,8,["status"]),Object(a["createVNode"])(i),c.loginStatus?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(l,{bgColor:"bg-brown",textColor:"text-dark",moreMsg:!1,onBackTop:r.backTop},null,8,["onBackTop"]),Object(a["createVNode"])(d,{"is-show":!1,"bg-Color":"bg-brown-500",onBackTopBtn:r.backTop},null,8,["onBackTopBtn"])],64)}o("ac1f"),o("5319");var c=o("4897"),r=o("6718"),s={class:"navbar navbar-expand-lg navbar-dark bg-brown px-2 shadow-sm"},i={class:"container-fluid"},u={class:"m-0"},l=Object(a["createTextVNode"])(" Natural "),d=Object(a["createVNode"])("button",{type:"button",class:"navbar-toggler","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["createVNode"])("span",{class:"navbar-toggler-icon"})],-1),b={id:"navbarToggler",class:"collapse navbar-collapse flex justify-content-end"},h={class:"navbar-nav navbar__text text-center"},p={class:"nav-item"},g=Object(a["createTextVNode"])(" 優惠券管理 "),j={class:"nav-item"},v=Object(a["createTextVNode"])(" 商品管理 "),O={class:"nav-item"},f=Object(a["createTextVNode"])(" 訂單管理 "),m={class:"nav-item d-flex justify-content-center"};function k(e,t,o,n,c,r){var k=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createBlock"])("nav",s,[Object(a["createVNode"])("div",i,[Object(a["createVNode"])("h1",u,[Object(a["createVNode"])(k,{to:"/",class:"nav-link custom-logo-brown mb-0 p-0 border border-white"},{default:Object(a["withCtx"])((function(){return[l]})),_:1})]),d,Object(a["createVNode"])("div",b,[Object(a["createVNode"])("ul",h,[Object(a["createVNode"])("li",p,[Object(a["createVNode"])(k,{to:"/admin/coupon",class:"nav-link"},{default:Object(a["withCtx"])((function(){return[g]})),_:1})]),Object(a["createVNode"])("li",j,[Object(a["createVNode"])(k,{to:"/admin/dashboardProducts",class:"nav-link"},{default:Object(a["withCtx"])((function(){return[v]})),_:1})]),Object(a["createVNode"])("li",O,[Object(a["createVNode"])(k,{to:"/admin/dashboardOrders",class:"nav-link"},{default:Object(a["withCtx"])((function(){return[f]})),_:1})]),Object(a["createVNode"])("li",m,[Object(a["createVNode"])("button",{type:"button",class:"nav-link btn fs-5 shadow-none",onClick:t[1]||(t[1]=function(){return r.logout&&r.logout.apply(r,arguments)})}," 登出 ")])])])])])}var T={name:"DashboardNavbar",methods:{logout:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/logout");Object(c["f"])("正在登出","info"),this.$http.post(t).then((function(t){t.data.success?(document.cookie="hexToken=; expires=Thu, 18 Dec 2003 12:00:00 UTC; path=/natural/dist;",e.$router.push("/login")):Object(c["d"])("登出失敗","請重新操作")})).catch((function(){Object(c["d"])("登出失敗","請重新操作")}))}}};T.render=k;var x=T,N=o("fd2d"),V=o("bfc5"),w={name:"Dashboard",data:function(){return{loginStatus:!1,loadingStatus:!1}},components:{DashboardLoading:r["a"],Footer:N["a"],DashboardNavbar:x,GoToTopBtn:V["a"]},methods:{checkLogin:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(t).then((function(t){t.data.success?(e.loginStatus=!0,e.loadingStatus=!1):(e.loginStatus=!1,document.cookie="hexToken=; expires=Thu, 18 Dec 2003 12:00:00 UTC; path=/natural/dist;",Object(c["a"])(t.data.message,"warning"),setTimeout((function(){e.$router.push("/login")}),3e3))})).catch((function(){document.cookie="hexToken=; expires=Thu, 18 Dec 2003 12:00:00 UTC; path=/natural/dist;",Object(c["a"])("驗證錯誤","error"),setTimeout((function(){e.$router.push("/login")}),3e3)}))},logout:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/logout");Object(c["f"])("正在登出","info"),this.$http.post(t).then((function(t){t.data.success?(document.cookie="hexToken=; expires=Thu, 18 Dec 2003 12:00:00 UTC; path=/natural/dist;",e.$router.push("/login")):Object(c["f"])("登出失敗","error")})).catch((function(){Object(c["d"])("登出失敗","請稍後再試")}))},backTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}},mounted:function(){this.loadingStatus=!0;var e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.checkLogin()}};o("efce");w.render=n;t["default"]=w},"60c1":function(e,t,o){e.exports=o.p+"img/dashboardLoading.42af07e3.svg"},6718:function(e,t,o){"use strict";var a=o("7a23"),n=o("60c1"),c=o.n(n),r={key:0,class:"loading-img userselect-none"},s=Object(a["createVNode"])("img",{src:c.a,alt:"loading"},null,-1);function i(e,t,o,n,c,i){return o.status?(Object(a["openBlock"])(),Object(a["createBlock"])("div",r,[s])):Object(a["createCommentVNode"])("",!0)}var u={name:"DashboardLoading.vue",props:["status"]};u.render=i;t["a"]=u},9433:function(e,t,o){},efce:function(e,t,o){"use strict";o("9433")}}]);
//# sourceMappingURL=chunk-b405d74a.69b09bd5.js.map