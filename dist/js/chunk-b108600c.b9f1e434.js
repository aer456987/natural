(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b108600c"],{"1dde":function(t,e,r){var s=r("d039"),c=r("b622"),o=r("2d00"),a=c("species");t.exports=function(t){return o>=51||!s((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var s=r("1d80"),c=r("5899"),o="["+c+"]",a=RegExp("^"+o+o+"*"),n=RegExp(o+o+"*$"),i=function(t){return function(e){var r=String(s(e));return 1&t&&(r=r.replace(a,"")),2&t&&(r=r.replace(n,"")),r}};t.exports={start:i(1),end:i(2),trim:i(3)}},"65f0":function(t,e,r){var s=r("861d"),c=r("e8b5"),o=r("b622"),a=o("species");t.exports=function(t,e){var r;return c(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?s(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},7156:function(t,e,r){var s=r("861d"),c=r("d2bb");t.exports=function(t,e,r){var o,a;return c&&"function"==typeof(o=e.constructor)&&o!==r&&s(a=o.prototype)&&a!==r.prototype&&c(t,a),t}},8418:function(t,e,r){"use strict";var s=r("c04e"),c=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var a=s(e);a in t?c.f(t,a,o(0,r)):t[a]=r}},"99af":function(t,e,r){"use strict";var s=r("23e7"),c=r("d039"),o=r("e8b5"),a=r("861d"),n=r("7b0b"),i=r("50c4"),d=r("8418"),l=r("65f0"),u=r("1dde"),b=r("b622"),p=r("2d00"),g=b("isConcatSpreadable"),f=9007199254740991,O="Maximum allowed index exceeded",j=p>=51||!c((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),h=u("concat"),m=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)},v=!j||!h;s({target:"Array",proto:!0,forced:v},{concat:function(t){var e,r,s,c,o,a=n(this),u=l(a,0),b=0;for(e=-1,s=arguments.length;e<s;e++)if(o=-1===e?a:arguments[e],m(o)){if(c=i(o.length),b+c>f)throw TypeError(O);for(r=0;r<c;r++,b++)r in o&&d(u,b,o[r])}else{if(b>=f)throw TypeError(O);d(u,b++,o)}return u.length=b,u}})},a9e3:function(t,e,r){"use strict";var s=r("83ab"),c=r("da84"),o=r("94ca"),a=r("6eeb"),n=r("5135"),i=r("c6b6"),d=r("7156"),l=r("c04e"),u=r("d039"),b=r("7c73"),p=r("241c").f,g=r("06cf").f,f=r("9bf2").f,O=r("58a8").trim,j="Number",h=c[j],m=h.prototype,v=i(b(m))==j,y=function(t){var e,r,s,c,o,a,n,i,d=l(t,!1);if("string"==typeof d&&d.length>2)if(d=O(d),e=d.charCodeAt(0),43===e||45===e){if(r=d.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:s=2,c=49;break;case 79:case 111:s=8,c=55;break;default:return+d}for(o=d.slice(2),a=o.length,n=0;n<a;n++)if(i=o.charCodeAt(n),i<48||i>c)return NaN;return parseInt(o,s)}return+d};if(o(j,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(v?u((function(){m.valueOf.call(r)})):i(r)!=j)?d(new h(y(e)),r,x):y(e)},A=s?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;A.length>N;N++)n(h,w=A[N])&&!n(x,w)&&f(x,w,g(h,w));x.prototype=m,m.constructor=x,a(c,j,x)}},ad18:function(t,e,r){"use strict";var s=r("7a23"),c={class:"px-lg-5 py-5"},o={class:"position-relative m-5"},a={class:"progress"},n=Object(s["g"])("i",{class:"bi bi-cart4"},null,-1),i=Object(s["g"])("i",{class:"bi bi-card-list"},null,-1),d=Object(s["g"])("i",{class:"bi bi-card-checklist"},null,-1),l=Object(s["g"])("i",{class:"bi bi-credit-card"},null,-1);function u(t,e,r,u,b,p){return Object(s["s"])(),Object(s["d"])("div",c,[Object(s["g"])("div",o,[Object(s["g"])("div",a,[Object(s["g"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(r.progress,"%"),"aria-valuenow":r.progress,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-0\n          translate-middle\n          progress_style\n        ",{progress_active:0===r.progress,"bg-primary":r.progress>1}]},[n],2),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-33\n          translate-middle\n          progress_style\n        ",{progress_active:33===r.progress,"bg-primary":r.progress>33}]},[i],2),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-66\n          translate-middle\n          progress_style\n        ",{progress_active:66===r.progress,"bg-primary":r.progress>66}]},[d],2),Object(s["g"])("div",{class:["\n          position-absolute\n          top-0\n          start-100\n          translate-middle\n          progress_style\n        ",{progress_active:100===r.progress}]},[l],2)])])}var b={props:["progress"]};b.render=u;e["a"]=b},b0c0:function(t,e,r){var s=r("83ab"),c=r("9bf2").f,o=Function.prototype,a=o.toString,n=/^\s*function ([^ (]*)/,i="name";s&&!(i in o)&&c(o,i,{configurable:!0,get:function(){try{return a.call(this).match(n)[1]}catch(t){return""}}})},ddd1:function(t,e,r){"use strict";r.r(e);r("b0c0");var s=r("7a23"),c={class:"container pageContent"},o={class:"py-4"},a={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},n={class:"breadcrumb m-0"},i={class:"breadcrumb-item"},d=Object(s["f"])("線上商城"),l={class:"breadcrumb-item"},u=Object(s["f"])("購物車"),b=Object(s["g"])("li",{class:"breadcrumb-item active","aria-current":"page"}," 訂單確認 ",-1),p=Object(s["g"])("h2",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),g={class:"container"},f={class:"row px-md-1 px-lg-5 justify-content-center"},O={class:"col-md-12 col-lg-9"},j={class:"px-5 py-5 mb-5 rounded shadow bg-white"},h=Object(s["g"])("h3",{class:"h5 text-center fw-bold mt-3"},"訂單編號",-1),m={class:"text-center text-danger fw-bold mb-4 pb-3"},v={class:"table table-borderless mb-5"},y=Object(s["g"])("tbody",null,[Object(s["g"])("tr",null,[Object(s["g"])("td",{colspan:"2",scope:"row",class:"text-center border-end border"}," 訂購人資訊 ")])],-1),w=Object(s["g"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"}," 姓名 ",-1),x={class:"ps-sm-0 ps-md-4",width:"50%"},A=Object(s["g"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"}," 聯絡電話 ",-1),N={class:"ps-sm-0 ps-md-4",width:"50%"},S=Object(s["g"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"}," Email ",-1),_={class:"ps-sm-0 ps-md-4",width:"50%"},I=Object(s["g"])("td",{scope:"row",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"}," 寄送地址 ",-1),E={class:"ps-sm-0 ps-md-4",width:"50%"},k={class:"table table-borderless mb-5"},C=Object(s["g"])("tbody",null,[Object(s["g"])("tr",null,[Object(s["g"])("td",{colspan:"3",scope:"row",class:"text-center border-end border"}," 商品項目 ")])],-1),T={scope:"row",colspan:"2",class:"text-end border-end pe-sm-0 pe-md-4",width:"50%"},F={class:"ps-sm-0 ps-md-4",width:"50%"},P={class:"h5 text-center mb-3"},$={class:"col-12 d-flex justify-content-center mb-5"},G=Object(s["f"])(" 我要付款 ");function J(t,e,r,J,M,q){var L=Object(s["x"])("Loading"),R=Object(s["x"])("router-link"),V=Object(s["x"])("Progress");return Object(s["s"])(),Object(s["d"])(s["a"],null,[Object(s["g"])(L,{status:M.loadingStatus},null,8,["status"]),Object(s["g"])("section",c,[Object(s["g"])("main",o,[Object(s["g"])("nav",a,[Object(s["g"])("ol",n,[Object(s["g"])("li",i,[Object(s["g"])(R,{to:"/products",class:"link-secondary"},{default:Object(s["G"])((function(){return[d]})),_:1})]),Object(s["g"])("li",l,[Object(s["g"])(R,{to:"/square/cart",class:"link-secondary"},{default:Object(s["G"])((function(){return[u]})),_:1})]),b])]),Object(s["g"])(V,{progress:M.progress},null,8,["progress"]),p,Object(s["g"])("section",g,[Object(s["g"])("section",f,[Object(s["g"])("div",O,[Object(s["g"])("span",j,[h,Object(s["g"])("p",m,Object(s["A"])(M.order.id),1),Object(s["g"])("table",v,[y,Object(s["g"])("tbody",null,[Object(s["g"])("tr",null,[w,Object(s["g"])("td",x,Object(s["A"])(M.order.data.user.name),1)]),Object(s["g"])("tr",null,[A,Object(s["g"])("td",N,Object(s["A"])(M.order.data.user.tel),1)]),Object(s["g"])("tr",null,[S,Object(s["g"])("td",_,Object(s["A"])(M.order.data.user.email),1)]),Object(s["g"])("tr",null,[I,Object(s["g"])("td",E,Object(s["A"])(M.order.data.user.address),1)])])]),Object(s["g"])("table",k,[C,(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["w"])(M.order.data.products,(function(t){return Object(s["s"])(),Object(s["d"])("tbody",{key:t.id},[Object(s["g"])("tr",null,[Object(s["g"])("td",T,Object(s["A"])(t.product.title)+" × "+Object(s["A"])(t.qty),1),Object(s["g"])("td",F," NT $"+Object(s["A"])(t.total),1)])])})),128))]),Object(s["g"])("p",P," 總金額NT $"+Object(s["A"])(M.order.data.total),1)])]),Object(s["g"])("div",$,[Object(s["g"])(R,{to:"/square/orderPaid",class:"btn btn_main px-3 py-1",onClick:q.goPay},{default:Object(s["G"])((function(){return[G]})),_:1},8,["onClick"])])])])])])],64)}r("a9e3"),r("99af");var M=r("ad18"),q=r("1940"),L=r.n(q),R={name:"OrderCheck",props:["orderId"],data:function(){return{loadingStatus:!1,btnStatus:!0,progress:66,order:{id:"",data:{products:{},user:{},total:Number}}}},components:{Progress:M["a"]},methods:{getOrder:function(t){var e=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order/").concat(t);this.loadingStatus=!0,this.$http.get(r).then((function(t){t.data.success?(console.log("(成功-前台)取得單筆訂單 res:",t),e.order.data.products=JSON.parse(JSON.stringify(t.data.order.products)),e.order.data.user=JSON.parse(JSON.stringify(t.data.order.user)),e.order.data.total=t.data.order.total,console.log("products",e.order.data.products),console.log("user",e.order.data.user),e.loadingStatus=!1):(console.log("(錯誤-前台)取得單筆訂單 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得單筆訂單 err:"),console.dir(t),e.loadingStatus=!1}))},goPay:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/pay/").concat(this.order.id);this.loadingStatus=!0,this.$http.post(e).then((function(e){e.data.success?(console.log("(成功-前台)訂單付款 res:",e),t.loadingStatus=!1,t.$router.push("/square/orderPaid")):(console.log("(錯誤-前台)訂單付款 res:",e.data),t.loadingStatus=!1)})).catch((function(e){console.log("(失敗-前台)訂單付款 err"),console.dir(e),t.loadingStatus=!1}))},swalFn:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500,s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={title:t,text:s,icon:e,button:c,timer:r,closeOnClickOutside:!1};L()(o)}},mounted:function(){this.order.id=this.$route.params.id,this.getOrder(this.order.id),this.swalFn("已建立訂單","success",2e3,"訂單編號：".concat(this.order.id))}};R.render=J;e["default"]=R},e8b5:function(t,e,r){var s=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}}}]);
//# sourceMappingURL=chunk-b108600c.b9f1e434.js.map