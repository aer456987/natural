(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22dabf5a"],{"0e54":function(e,t,a){"use strict";var s=a("7a23"),r={class:"px-lg-5 py-5"},c={class:"position-relative m-5"},l={class:"progress"},o=Object(s["g"])("i",{class:"bi bi-cart4"},null,-1),n=Object(s["g"])("i",{class:"bi bi-card-list"},null,-1),i=Object(s["g"])("i",{class:"bi bi-card-checklist"},null,-1),u=Object(s["g"])("i",{class:"bi bi-credit-card"},null,-1);function b(e,t,a,b,d,g){return Object(s["s"])(),Object(s["d"])("div",r,[Object(s["g"])("div",c,[Object(s["g"])("div",l,[Object(s["g"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(a.progressValue,"%"),"aria-valuenow":a.progressValue,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(s["g"])("div",{class:["progress_style position-absolute top-0 start-0 translate-middle",{progress_active:0===a.progressValue,"bg-primary":a.progressValue>1}]},[o],2),Object(s["g"])("div",{class:["progress_style position-absolute top-0 start-33 translate-middle",{progress_active:33===a.progressValue,"bg-primary":a.progressValue>33}]},[n],2),Object(s["g"])("div",{class:["progress_style position-absolute top-0 start-66 translate-middle",{progress_active:66===a.progressValue,"bg-primary":a.progressValue>66}]},[i],2),Object(s["g"])("div",{class:["progress_style position-absolute top-0 start-100 translate-middle",{progress_active:100===a.progressValue}]},[u],2)])])}var d={name:"CartProgress",props:["progressValue"]};d.render=b;t["a"]=d},"1dde":function(e,t,a){var s=a("d039"),r=a("b622"),c=a("2d00"),l=r("species");e.exports=function(e){return c>=51||!s((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var s=a("861d"),r=a("e8b5"),c=a("b622"),l=c("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?s(a)&&(a=a[l],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var s=a("c04e"),r=a("9bf2"),c=a("5c6c");e.exports=function(e,t,a){var l=s(t);l in e?r.f(e,l,c(0,a)):e[l]=a}},"99af":function(e,t,a){"use strict";var s=a("23e7"),r=a("d039"),c=a("e8b5"),l=a("861d"),o=a("7b0b"),n=a("50c4"),i=a("8418"),u=a("65f0"),b=a("1dde"),d=a("b622"),g=a("2d00"),m=d("isConcatSpreadable"),p=9007199254740991,f="Maximum allowed index exceeded",O=g>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),j=b("concat"),v=function(e){if(!l(e))return!1;var t=e[m];return void 0!==t?!!t:c(e)},h=!O||!j;s({target:"Array",proto:!0,forced:h},{concat:function(e){var t,a,s,r,c,l=o(this),b=u(l,0),d=0;for(t=-1,s=arguments.length;t<s;t++)if(c=-1===t?l:arguments[t],v(c)){if(r=n(c.length),d+r>p)throw TypeError(f);for(a=0;a<r;a++,d++)a in c&&i(b,d,c[a])}else{if(d>=p)throw TypeError(f);i(b,d++,c)}return b.length=d,b}})},b0c0:function(e,t,a){var s=a("83ab"),r=a("9bf2").f,c=Function.prototype,l=c.toString,o=/^\s*function ([^ (]*)/,n="name";s&&!(n in c)&&r(c,n,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(e){return""}}})},e8b5:function(e,t,a){var s=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}},f86d:function(e,t,a){"use strict";a.r(t);a("b0c0");var s=a("7a23"),r={class:"container pageContent"},c={class:"py-4"},l={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},o={class:"breadcrumb m-0"},n={class:"breadcrumb-item"},i=Object(s["f"])("線上商城"),u={class:"breadcrumb-item"},b=Object(s["f"])("購物車"),d=Object(s["g"])("li",{class:"breadcrumb-item active","aria-current":"page"},"填寫訂單資料",-1),g=Object(s["g"])("h1",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),m={class:"container"},p={class:"row px-lg-0 px-xl-5\n            position-relative justify-content-center align-items-center"},f={class:"col-xl-5 col-lg-6"},O={class:"table_style w-100 p-5 mb-5 rounded bg-white shadow-sm"},j=Object(s["g"])("h5",{class:"text-center mb-4"},"購物明細",-1),v={class:"table text-center mb-5"},h=Object(s["g"])("thead",null,[Object(s["g"])("tr",null,[Object(s["g"])("td",{scope:"col"},"商品資訊"),Object(s["g"])("td",{scope:"col"},"數量"),Object(s["g"])("td",{scope:"col"},"金額")])],-1),y={scope:"row"},x={class:"h5 text-center"},V={class:"col-lg-6 mb-5"},w=Object(s["g"])("label",{for:"orderName",class:"form-label mt-3 mb-1"},[Object(s["f"])(" 訂購人姓名"),Object(s["g"])("span",{class:"text-danger fw-bold"},"*")],-1),_=Object(s["g"])("label",{for:"orderTel",class:"form-label mt-3 mb-1"},[Object(s["f"])(" 聯絡電話"),Object(s["g"])("span",{class:"text-danger fw-bold"},"*")],-1),D=Object(s["g"])("label",{for:"orderEmail",class:"form-label mt-3 mb-1"},[Object(s["f"])(" Email"),Object(s["g"])("span",{class:"text-danger fw-bold"},"*")],-1),k=Object(s["g"])("label",{for:"orderDelivery",class:"form-label mt-3 mb-1"},[Object(s["f"])(" 寄送方式"),Object(s["g"])("span",{class:"text-danger fw-bold"},"*")],-1),A=Object(s["g"])("option",{value:"",selected:"",disabled:""},"選擇寄送方式",-1),S=Object(s["g"])("option",{value:"宅配"},"宅配",-1),q=Object(s["g"])("option",{value:"全家超取"},"全家",-1),U=Object(s["g"])("option",{value:"7-11 超取"},"7-11",-1),C=Object(s["g"])("option",{value:"萊爾富超取"},"萊爾富",-1),E=Object(s["g"])("option",{value:"OK 超取"},"OK 超取",-1),T=Object(s["g"])("label",{for:"orderAddress",class:"form-label mt-3 mb-1"},[Object(s["f"])(" 收件地址(超取請填寫門市名稱)"),Object(s["g"])("span",{class:"text-danger fw-bold"},"*")],-1),$=Object(s["g"])("label",{for:"orderPayment",class:"form-label mt-3 mb-1"},[Object(s["f"])(" 付款方式"),Object(s["g"])("span",{class:"text-danger fw-bold"},"*")],-1),I=Object(s["g"])("option",{value:"",selected:"",disabled:""},"選擇付款方式",-1),N=Object(s["g"])("option",{value:"信用卡"},"信用卡",-1),M=Object(s["g"])("option",{value:"貨到付款"},"貨到付款",-1),P=Object(s["g"])("option",{value:"ATM 匯款"},"ATM 匯款",-1),F=Object(s["g"])("label",{for:"orderMsg",class:"form-label mt-3 mb-1"},"備註",-1),J=Object(s["g"])("p",{class:"text-danger text-end fw-bold pt-1"},"* 為必填項目",-1),K={class:"col-12 d-flex justify-content-between mb-5"},B=Object(s["f"])(" ◁ 返回購物車 ");function L(e,t,a,L,z,G){var H=Object(s["x"])("Loading"),Q=Object(s["x"])("router-link"),R=Object(s["x"])("Progress"),W=Object(s["x"])("Field"),X=Object(s["x"])("error-message"),Y=Object(s["x"])("Form");return Object(s["s"])(),Object(s["d"])(s["a"],null,[Object(s["g"])(H,{status:z.loadingStatus},null,8,["status"]),Object(s["g"])("section",r,[Object(s["g"])("section",c,[Object(s["g"])("nav",l,[Object(s["g"])("ol",o,[Object(s["g"])("li",n,[Object(s["g"])(Q,{to:"/products",class:"link-secondary"},{default:Object(s["I"])((function(){return[i]})),_:1})]),Object(s["g"])("li",u,[Object(s["g"])(Q,{to:"/square/cart",class:"link-secondary"},{default:Object(s["I"])((function(){return[b]})),_:1})]),d])]),Object(s["g"])(R,{"progress-value":z.progressNum},null,8,["progress-value"]),g,Object(s["g"])("section",m,[Object(s["g"])("section",p,[Object(s["g"])("div",f,[Object(s["g"])("div",O,[j,Object(s["g"])("table",v,[h,Object(s["g"])("tbody",null,[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["w"])(z.carts.carts,(function(t){return Object(s["s"])(),Object(s["d"])("tr",{key:t.id},[Object(s["g"])("td",y,Object(s["A"])(t.product.title),1),Object(s["g"])("td",null,Object(s["A"])(t.qty),1),Object(s["g"])("td",null," NT $"+Object(s["A"])(e.$filters.currency(t.final_total)),1)])})),128))])]),Object(s["g"])("p",x," 總金額NT $"+Object(s["A"])(e.$filters.currency(z.carts.final_total)),1)])]),Object(s["g"])("main",V,[Object(s["g"])(Y,{class:"px-3",onChange:G.checkUserDatas},{default:Object(s["I"])((function(e){var a=e.errors;return[w,Object(s["g"])(W,{type:"text",name:"姓名",id:"orderName",class:["form-control",{"is-invalid":a["姓名"]}],rules:"required",modelValue:z.userDatas.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return z.userDatas.user.name=e})},null,8,["class","modelValue"]),Object(s["g"])(X,{name:"姓名",class:"invalid-feedback mb-1"}),_,Object(s["g"])(W,{type:"tel",name:"電話",id:"orderTel",class:["form-control",{"is-invalid":a["電話"]}],rules:"required|numeric|min:8",modelValue:z.userDatas.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return z.userDatas.user.tel=e})},null,8,["class","modelValue"]),Object(s["g"])(X,{name:"電話",class:"invalid-feedback mb-1"}),D,Object(s["g"])(W,{type:"email",name:"Email",id:"orderEmail",class:["form-control",{"is-invalid":a["Email"]}],rules:"required|email",modelValue:z.userDatas.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return z.userDatas.user.email=e})},null,8,["class","modelValue"]),Object(s["g"])(X,{name:"Email",class:"invalid-feedback mb-1"}),k,Object(s["g"])(W,{as:"select",name:"寄送方式",id:"orderDelivery",class:["form-control",{"is-invalid":a["寄送方式"]}],rules:"required",modelValue:z.userDatas.user.delivery,"onUpdate:modelValue":t[4]||(t[4]=function(e){return z.userDatas.user.delivery=e})},{default:Object(s["I"])((function(){return[A,S,q,U,C,E]})),_:2},1032,["class","modelValue"]),Object(s["g"])(X,{name:"寄送方式",class:"invalid-feedback mb-1"}),T,Object(s["g"])(W,{type:"text",name:"地址",id:"orderAddress",class:["form-control",{"is-invalid":a["地址"]}],rules:"required",modelValue:z.userDatas.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return z.userDatas.user.address=e})},null,8,["class","modelValue"]),Object(s["g"])(X,{name:"地址",class:"invalid-feedback mb-1"}),$,Object(s["g"])(W,{as:"select",name:"付款方式",id:"orderPayment",class:["form-control",{"is-invalid":a["付款方式"]}],rules:"required",modelValue:z.userDatas.user.payment,"onUpdate:modelValue":t[6]||(t[6]=function(e){return z.userDatas.user.payment=e})},{default:Object(s["I"])((function(){return[I,N,M,P]})),_:2},1032,["class","modelValue"]),Object(s["g"])(X,{name:"付款方式",class:"invalid-feedback mb-1"}),F,Object(s["g"])(W,{as:"textarea",name:"備註",id:"orderMsg",class:["form-control",{"is-invalid":a["備註"]}],modelValue:z.userDatas.message,"onUpdate:modelValue":t[7]||(t[7]=function(e){return z.userDatas.message=e})},null,8,["class","modelValue"]),Object(s["g"])(X,{name:"備註",class:"invalid-feedback mb-1"}),J]})),_:1},8,["onChange"])]),Object(s["g"])("div",K,[Object(s["g"])(Q,{to:"/square/cart",class:"btn btn_outline_green px-3 py-1"},{default:Object(s["I"])((function(){return[B]})),_:1}),Object(s["g"])("button",{class:"btn btn_main px-3 py-1",disabled:z.btnStatus,onClick:t[8]||(t[8]=function(){return G.postOrder&&G.postOrder.apply(G,arguments)})}," 送出訂單 ▷ ",8,["disabled"])])])])])])],64)}a("99af");var z=a("0e54"),G=a("4897"),H={name:"Order",data:function(){return{loadingStatus:!1,btnStatus:!0,progressNum:33,carts:{},userDatas:{user:{}}}},components:{Progress:z["a"]},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0,this.$http.get(t).then((function(t){t.data.success?(console.log("(成功-前台)取得購物車全部資料 res:",t),e.carts=t.data.data,e.carts.carts.length<1&&e.$router.push("/square/cart"),e.loadingStatus=!1,console.log("(成功-前台)取得購物車全部資料 vue:",e.carts)):(console.log("(錯誤-前台)取得購物車全部資料 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得購物車全部資料 res:"),console.dir(t),e.loadingStatus=!1}))},checkUserDatas:function(){var e=this.userDatas.user,t=e.name,a=e.email,s=e.tel,r=e.address;this.btnStatus=""===t||""===a||""===s||""===r},postOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order");this.loadingStatus=!0,this.$http.post(t,{data:this.userDatas}).then((function(t){t.data.success?(console.log("(成功-前台)送出訂單 res:",t),e.$router.push("/square/order/".concat(t.data.orderId))):(console.log("(錯誤-前台)送出訂單 res",t),Object(G["c"])(t.data.message,"error"),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)送出訂單 err"),console.dir(t),e.loadingStatus=!1}))}},mounted:function(){this.getCarts()}};H.render=L;t["default"]=H}}]);
//# sourceMappingURL=chunk-22dabf5a.82a075ff.js.map