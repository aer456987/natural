(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75130e07"],{"0e54":function(e,t,a){"use strict";var r=a("7a23"),s={class:"px-lg-5 py-5"},c={class:"position-relative m-5"},n={class:"progress"},l=Object(r["h"])("i",{class:"bi bi-cart4"},null,-1),o=Object(r["h"])("i",{class:"bi bi-card-list"},null,-1),i=Object(r["h"])("i",{class:"bi bi-card-checklist"},null,-1),u=Object(r["h"])("i",{class:"bi bi-credit-card"},null,-1);function b(e,t,a,b,d,f){return Object(r["v"])(),Object(r["d"])("div",s,[Object(r["h"])("div",c,[Object(r["h"])("div",n,[Object(r["h"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(a.progressValue,"%"),"aria-valuenow":a.progressValue,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-0 translate-middle",{progress_active:0===a.progressValue,"bg-primary":a.progressValue>1}]},[l],2),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-33 translate-middle",{progress_active:33===a.progressValue,"bg-primary":a.progressValue>33}]},[o],2),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-66 translate-middle",{progress_active:66===a.progressValue,"bg-primary":a.progressValue>66}]},[i],2),Object(r["h"])("div",{class:["progress_style position-absolute top-0 start-100 translate-middle",{progress_active:100===a.progressValue}]},[u],2)])])}var d={name:"CartProgress",props:["progressValue"]};d.render=b;t["a"]=d},"159b":function(e,t,a){var r=a("da84"),s=a("fdbc"),c=a("17c2"),n=a("9112");for(var l in s){var o=r[l],i=o&&o.prototype;if(i&&i.forEach!==c)try{n(i,"forEach",c)}catch(u){i.forEach=c}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,s=a("a640"),c=s("forEach");e.exports=c?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,a){var r=a("d039"),s=a("b622"),c=a("2d00"),n=s("species");e.exports=function(e){return c>=51||!r((function(){var t=[],a=t.constructor={};return a[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2fbc":function(e,t,a){"use strict";var r=a("7a23"),s={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},c={class:"breadcrumb m-0"},n={class:"breadcrumb-item active","aria-current":"page"};function l(e,t,a,l,o,i){var u=Object(r["A"])("router-link");return Object(r["v"])(),Object(r["d"])("div",null,[Object(r["h"])("nav",s,[Object(r["h"])("ol",c,[(Object(r["v"])(!0),Object(r["d"])(r["a"],null,Object(r["z"])(a.breadcrumbData.previous,(function(e,t){return Object(r["v"])(),Object(r["d"])("li",{key:"麵包屑_".concat(t),class:"breadcrumb-item"},[Object(r["h"])(u,{to:e.url,class:"link-secondary"},{default:Object(r["M"])((function(){return[Object(r["g"])(Object(r["D"])(e.title),1)]})),_:2},1032,["to"])])})),128)),Object(r["h"])("li",n,Object(r["D"])(a.breadcrumbData.purpose),1)])])])}var o={name:"Breadcrumb.vue",props:["breadcrumbData"],created:function(){console.log("breadcrumbData",this.breadcrumbData)}};o.render=l;t["a"]=o},"5fd6":function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),s={class:"container pageContent"},c={class:"py-4"},n=Object(r["h"])("h1",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),l={class:"container"},o={class:"row px-lg-0 px-xl-5\n            position-relative justify-content-center align-items-center"},i={class:"col-xl-5 col-lg-6"},u={class:"table_style w-100 p-5 mb-5 rounded bg-white shadow-sm"},b=Object(r["h"])("h5",{class:"text-center mb-4"},"購物明細",-1),d={class:"table text-center mb-5"},f=Object(r["h"])("thead",null,[Object(r["h"])("tr",null,[Object(r["h"])("td",{scope:"col"},"商品資訊"),Object(r["h"])("td",{scope:"col"},"數量"),Object(r["h"])("td",{scope:"col"},"金額")])],-1),m={scope:"row"},h={class:"h5 text-center"},p={class:"col-lg-6 mb-5"},O=Object(r["h"])("label",{for:"orderName",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 訂購人姓名"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),j=Object(r["h"])("label",{for:"orderTel",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 聯絡電話"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),v=Object(r["h"])("label",{for:"orderEmail",class:"form-label mt-3 mb-1"},[Object(r["g"])(" Email"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),g=Object(r["h"])("label",{for:"orderDelivery",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 寄送方式"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),y=Object(r["h"])("option",{value:"",selected:"",disabled:""},"選擇寄送方式",-1),x=Object(r["h"])("option",{value:"宅配"},"宅配",-1),D=Object(r["h"])("option",{value:"全家超取"},"全家",-1),V=Object(r["h"])("option",{value:"7-11 超取"},"7-11",-1),w=Object(r["h"])("option",{value:"萊爾富超取"},"萊爾富",-1),_=Object(r["h"])("option",{value:"OK 超取"},"OK 超取",-1),k=Object(r["h"])("label",{for:"orderAddress",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 收件地址(超取請填寫門市名稱)"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),A=Object(r["h"])("label",{for:"orderPayment",class:"form-label mt-3 mb-1"},[Object(r["g"])(" 付款方式"),Object(r["h"])("span",{class:"text-danger fw-bold"},"*")],-1),E=Object(r["h"])("option",{value:"",selected:"",disabled:""},"選擇付款方式",-1),S=Object(r["h"])("option",{value:"信用卡"},"信用卡",-1),M={key:0,value:"貨到付款"},U=Object(r["h"])("option",{value:"ATM 匯款"},"ATM 匯款",-1),C=Object(r["h"])("label",{for:"orderMsg",class:"form-label mt-3 mb-1"}," 備註 ",-1),F=Object(r["h"])("p",{class:"text-danger text-end fw-bold pt-1"},"* 為必填項目",-1),T={class:"col-12 d-flex justify-content-between mb-5"},$=Object(r["g"])(" ◁ 返回購物車 ");function q(e,t,a,q,N,P){var B=Object(r["A"])("Loading"),z=Object(r["A"])("Breadcrumb"),I=Object(r["A"])("Progress"),J=Object(r["A"])("Field"),K=Object(r["A"])("error-message"),L=Object(r["A"])("Form"),G=Object(r["A"])("router-link");return Object(r["v"])(),Object(r["d"])(r["a"],null,[Object(r["h"])(B,{status:N.loadingStatus},null,8,["status"]),Object(r["h"])("section",s,[Object(r["h"])("section",c,[Object(r["h"])(z,{"breadcrumb-data":N.breadcrumbData},null,8,["breadcrumb-data"]),Object(r["h"])(I,{"progress-value":N.progressNum},null,8,["progress-value"]),n,Object(r["h"])("section",l,[Object(r["h"])("section",o,[Object(r["h"])("div",i,[Object(r["h"])("div",u,[b,Object(r["h"])("table",d,[f,Object(r["h"])("tbody",null,[(Object(r["v"])(!0),Object(r["d"])(r["a"],null,Object(r["z"])(N.carts.carts,(function(t){return Object(r["v"])(),Object(r["d"])("tr",{key:t.id},[Object(r["h"])("td",m,Object(r["D"])(t.product.title),1),Object(r["h"])("td",null,Object(r["D"])(t.qty),1),Object(r["h"])("td",null," NT $"+Object(r["D"])(e.$filters.currency(t.final_total)),1)])})),128))])]),Object(r["h"])("p",h," 總金額NT $"+Object(r["D"])(e.$filters.currency(N.carts.final_total)),1)])]),Object(r["h"])("main",p,[Object(r["h"])(L,{class:"px-3",onChange:P.checkUserDatas},{default:Object(r["M"])((function(e){var a=e.errors;return[O,Object(r["h"])(J,{type:"text",name:"姓名",id:"orderName",class:["form-control",{"is-invalid":a["姓名"]}],rules:"required",modelValue:N.userDatas.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return N.userDatas.user.name=e})},null,8,["class","modelValue"]),Object(r["h"])(K,{name:"姓名",class:"invalid-feedback mb-1"}),j,Object(r["h"])(J,{type:"tel",name:"電話",id:"orderTel",class:["form-control",{"is-invalid":a["電話"]}],rules:"required|numeric|min:8",modelValue:N.userDatas.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return N.userDatas.user.tel=e})},null,8,["class","modelValue"]),Object(r["h"])(K,{name:"電話",class:"invalid-feedback mb-1"}),v,Object(r["h"])(J,{type:"email",name:"Email",id:"orderEmail",class:["form-control",{"is-invalid":a["Email"]}],rules:"required|email",modelValue:N.userDatas.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return N.userDatas.user.email=e})},null,8,["class","modelValue"]),Object(r["h"])(K,{name:"Email",class:"invalid-feedback mb-1"}),g,Object(r["h"])(J,{as:"select",name:"寄送方式",id:"orderDelivery",class:["form-select",{"is-invalid":a["寄送方式"]}],rules:"required",modelValue:N.userDatas.user.delivery,"onUpdate:modelValue":t[4]||(t[4]=function(e){return N.userDatas.user.delivery=e})},{default:Object(r["M"])((function(){return[y,x,D,V,w,_]})),_:2},1032,["class","modelValue"]),Object(r["h"])(K,{name:"寄送方式",class:"invalid-feedback mb-1"}),k,Object(r["h"])(J,{type:"text",name:"地址",id:"orderAddress",class:["form-control",{"is-invalid":a["地址"]}],rules:"required",modelValue:N.userDatas.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return N.userDatas.user.address=e})},null,8,["class","modelValue"]),Object(r["h"])(K,{name:"地址",class:"invalid-feedback mb-1"}),A,Object(r["h"])(J,{as:"select",name:"付款方式",id:"orderPayment",class:["form-select",{"is-invalid":a["付款方式"]}],rules:"required",modelValue:N.userDatas.user.payment,"onUpdate:modelValue":t[6]||(t[6]=function(e){return N.userDatas.user.payment=e})},{default:Object(r["M"])((function(){return[E,S,N.isFundraising?(Object(r["v"])(),Object(r["d"])("option",M," 貨到付款 ")):Object(r["e"])("",!0),U]})),_:2},1032,["class","modelValue"]),Object(r["h"])(K,{name:"付款方式",class:"invalid-feedback mb-1"}),C,Object(r["h"])(J,{as:"textarea",name:"備註",id:"orderMsg",class:["form-control",{"is-invalid":a["備註"]}],modelValue:N.userDatas.message,"onUpdate:modelValue":t[7]||(t[7]=function(e){return N.userDatas.message=e})},null,8,["class","modelValue"]),F]})),_:1},8,["onChange"])]),Object(r["h"])("div",T,[Object(r["h"])(G,{to:"/cart",class:"btn btn_outline_green px-3 py-1"},{default:Object(r["M"])((function(){return[$]})),_:1}),Object(r["h"])("button",{class:"btn btn_main px-3 py-1",disabled:N.btnStatus,onClick:t[8]||(t[8]=function(){return P.postOrder&&P.postOrder.apply(P,arguments)})}," 送出訂單 ▷ ",8,["disabled"])])])])])])],64)}a("99af"),a("159b");var N=a("4897"),P=a("2fbc"),B=a("0e54"),z={name:"Order",data:function(){return{loadingStatus:!1,btnStatus:!0,progressNum:33,carts:{},userDatas:{user:{}},isFundraising:!0,breadcrumbData:{previous:[{title:"線上商城",url:"/products"},{title:"購物車",url:"/cart"}],purpose:"填寫訂單資料"}}},components:{Progress:B["a"],Breadcrumb:P["a"]},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0,this.$http.get(t).then((function(t){t.data.success?(e.carts=t.data.data,e.carts.carts.length<1&&e.$router.push("/cart"),e.filterFundraising(),e.loadingStatus=!1):(console.log("(錯誤-前台)取得購物車全部資料 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得購物車全部資料 res:"),console.dir(t),e.loadingStatus=!1}))},filterFundraising:function(){var e=this;this.carts.carts.forEach((function(t){"募款專案"===t.product.category&&(e.isFundraising=!1)}))},checkUserDatas:function(){var e=this.userDatas.user,t=e.name,a=e.email,r=e.tel,s=e.address;this.btnStatus=""===t||""===a||""===r||""===s},postOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order");this.loadingStatus=!0,this.$http.post(t,{data:this.userDatas}).then((function(t){t.data.success?e.$router.push("/order/".concat(t.data.orderId)):(Object(N["c"])(t.data.message,"error"),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)送出訂單 err"),console.dir(t),e.loadingStatus=!1}))}},mounted:function(){this.getCarts()}};z.render=q;t["default"]=z},"65f0":function(e,t,a){var r=a("861d"),s=a("e8b5"),c=a("b622"),n=c("species");e.exports=function(e,t){var a;return s(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?r(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var r=a("c04e"),s=a("9bf2"),c=a("5c6c");e.exports=function(e,t,a){var n=r(t);n in e?s.f(e,n,c(0,a)):e[n]=a}},"99af":function(e,t,a){"use strict";var r=a("23e7"),s=a("d039"),c=a("e8b5"),n=a("861d"),l=a("7b0b"),o=a("50c4"),i=a("8418"),u=a("65f0"),b=a("1dde"),d=a("b622"),f=a("2d00"),m=d("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",O=f>=51||!s((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),j=b("concat"),v=function(e){if(!n(e))return!1;var t=e[m];return void 0!==t?!!t:c(e)},g=!O||!j;r({target:"Array",proto:!0,forced:g},{concat:function(e){var t,a,r,s,c,n=l(this),b=u(n,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?n:arguments[t],v(c)){if(s=o(c.length),d+s>h)throw TypeError(p);for(a=0;a<s;a++,d++)a in c&&i(b,d,c[a])}else{if(d>=h)throw TypeError(p);i(b,d++,c)}return b.length=d,b}})},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},b0c0:function(e,t,a){var r=a("83ab"),s=a("9bf2").f,c=Function.prototype,n=c.toString,l=/^\s*function ([^ (]*)/,o="name";r&&!(o in c)&&s(c,o,{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(e){return""}}})},b727:function(e,t,a){var r=a("0366"),s=a("44ad"),c=a("7b0b"),n=a("50c4"),l=a("65f0"),o=[].push,i=function(e){var t=1==e,a=2==e,i=3==e,u=4==e,b=6==e,d=7==e,f=5==e||b;return function(m,h,p,O){for(var j,v,g=c(m),y=s(g),x=r(h,p,3),D=n(y.length),V=0,w=O||l,_=t?w(m,D):a||d?w(m,0):void 0;D>V;V++)if((f||V in y)&&(j=y[V],v=x(j,V,g),e))if(t)_[V]=v;else if(v)switch(e){case 3:return!0;case 5:return j;case 6:return V;case 2:o.call(_,j)}else switch(e){case 4:return!1;case 7:o.call(_,j)}return b?-1:i||u?u:_}};e.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6),filterOut:i(7)}},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-75130e07.4695a43d.js.map