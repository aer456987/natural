(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e789ac3"],{"0e54":function(e,t,a){"use strict";var s=a("7a23"),r={class:"px-lg-5 py-5"},c={class:"position-relative m-5"},l={class:"progress"},o=Object(s["h"])("i",{class:"bi bi-cart4"},null,-1),n=Object(s["h"])("i",{class:"bi bi-card-list"},null,-1),i=Object(s["h"])("i",{class:"bi bi-card-checklist"},null,-1),u=Object(s["h"])("i",{class:"bi bi-credit-card"},null,-1);function b(e,t,a,b,d,h){return Object(s["t"])(),Object(s["d"])("div",r,[Object(s["h"])("div",c,[Object(s["h"])("div",l,[Object(s["h"])("div",{class:"progress-bar bg-primary",role:"progressbar",style:"width: ".concat(a.progressValue,"%"),"aria-valuenow":a.progressValue,"aria-valuemin":"0","aria-valuemax":"100"},null,12,["aria-valuenow"])]),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-0 translate-middle",{progress_active:0===a.progressValue,"bg-primary":a.progressValue>1}]},[o],2),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-33 translate-middle",{progress_active:33===a.progressValue,"bg-primary":a.progressValue>33}]},[n],2),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-66 translate-middle",{progress_active:66===a.progressValue,"bg-primary":a.progressValue>66}]},[i],2),Object(s["h"])("div",{class:["progress_style position-absolute top-0 start-100 translate-middle",{progress_active:100===a.progressValue}]},[u],2)])])}var d={name:"CartProgress",props:["progressValue"]};d.render=b;t["a"]=d},"1dde":function(e,t,a){var s=a("d039"),r=a("b622"),c=a("2d00"),l=r("species");e.exports=function(e){return c>=51||!s((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var s=a("861d"),r=a("e8b5"),c=a("b622"),l=c("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?s(a)&&(a=a[l],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var s=a("c04e"),r=a("9bf2"),c=a("5c6c");e.exports=function(e,t,a){var l=s(t);l in e?r.f(e,l,c(0,a)):e[l]=a}},"99af":function(e,t,a){"use strict";var s=a("23e7"),r=a("d039"),c=a("e8b5"),l=a("861d"),o=a("7b0b"),n=a("50c4"),i=a("8418"),u=a("65f0"),b=a("1dde"),d=a("b622"),h=a("2d00"),m=d("isConcatSpreadable"),p=9007199254740991,O="Maximum allowed index exceeded",j=h>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),f=b("concat"),g=function(e){if(!l(e))return!1;var t=e[m];return void 0!==t?!!t:c(e)},v=!j||!f;s({target:"Array",proto:!0,forced:v},{concat:function(e){var t,a,s,r,c,l=o(this),b=u(l,0),d=0;for(t=-1,s=arguments.length;t<s;t++)if(c=-1===t?l:arguments[t],g(c)){if(r=n(c.length),d+r>p)throw TypeError(O);for(a=0;a<r;a++,d++)a in c&&i(b,d,c[a])}else{if(d>=p)throw TypeError(O);i(b,d++,c)}return b.length=d,b}})},b0c0:function(e,t,a){var s=a("83ab"),r=a("9bf2").f,c=Function.prototype,l=c.toString,o=/^\s*function ([^ (]*)/,n="name";s&&!(n in c)&&r(c,n,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(e){return""}}})},e8b5:function(e,t,a){var s=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}},f86d:function(e,t,a){"use strict";a.r(t);a("b0c0");var s=a("7a23"),r={class:"container pageContent"},c={class:"py-4"},l={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},o={class:"breadcrumb m-0"},n={class:"breadcrumb-item"},i=Object(s["g"])("線上商城"),u={class:"breadcrumb-item"},b=Object(s["g"])("購物車"),d=Object(s["h"])("li",{class:"breadcrumb-item active","aria-current":"page"},"填寫訂單資料",-1),h=Object(s["h"])("h1",{class:"text-center fw-bold mb-4"},"訂購人資訊",-1),m={class:"container"},p={class:"row px-lg-0 px-xl-5\n            position-relative justify-content-center align-items-center"},O={class:"col-xl-5 col-lg-6"},j={class:"table_style w-100 p-5 mb-5 rounded bg-white shadow-sm"},f=Object(s["h"])("h5",{class:"text-center mb-4"},"購物明細",-1),g={class:"table text-center mb-5"},v=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("td",{scope:"col"},"商品資訊"),Object(s["h"])("td",{scope:"col"},"數量"),Object(s["h"])("td",{scope:"col"},"金額")])],-1),y={scope:"row"},x=Object(s["h"])("span",null,"NT $",-1),w={class:"h5 text-center"},V={class:"col-lg-6 mb-5"},_=Object(s["h"])("label",{for:"orderName",class:"form-label mt-3 mb-1"},[Object(s["g"])(" 訂購人姓名"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),k=Object(s["h"])("label",{for:"orderTel",class:"form-label mt-3 mb-1"},[Object(s["g"])(" 聯絡電話"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),D=Object(s["h"])("label",{for:"orderEmail",class:"form-label mt-3 mb-1"},[Object(s["g"])(" Email"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),S=Object(s["h"])("label",{for:"orderAddress",class:"form-label mt-3 mb-1"},[Object(s["g"])(" 寄送地址"),Object(s["h"])("span",{class:"text-danger fw-bold"},"*")],-1),q=Object(s["h"])("label",{for:"orderMsg",class:"form-label mt-3 mb-1"},"備註",-1),A=Object(s["h"])("p",{class:"text-danger text-end fw-bold pt-1"},"* 為必填項目",-1),C={class:"col-12 d-flex justify-content-between mb-5"},E=Object(s["g"])(" ◁ 返回購物車 ");function U(e,t,a,U,J,N){var T=Object(s["y"])("Loading"),$=Object(s["y"])("router-link"),B=Object(s["y"])("Progress"),F=Object(s["y"])("Field"),M=Object(s["y"])("error-message"),P=Object(s["y"])("Form");return Object(s["t"])(),Object(s["d"])(s["a"],null,[Object(s["h"])(T,{status:J.loadingStatus},null,8,["status"]),Object(s["h"])("section",r,[Object(s["h"])("section",c,[Object(s["h"])("nav",l,[Object(s["h"])("ol",o,[Object(s["h"])("li",n,[Object(s["h"])($,{to:"/products",class:"link-secondary"},{default:Object(s["J"])((function(){return[i]})),_:1})]),Object(s["h"])("li",u,[Object(s["h"])($,{to:"/square/cart",class:"link-secondary"},{default:Object(s["J"])((function(){return[b]})),_:1})]),d])]),Object(s["h"])(B,{"progress-value":J.progressNum},null,8,["progress-value"]),h,Object(s["h"])("section",m,[Object(s["h"])("section",p,[Object(s["h"])("div",O,[Object(s["h"])("div",j,[f,Object(s["h"])("table",g,[v,Object(s["h"])("tbody",null,[(Object(s["t"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(J.carts.carts,(function(e){return Object(s["t"])(),Object(s["d"])("tr",{key:e.id},[Object(s["h"])("td",y,Object(s["B"])(e.product.title),1),Object(s["h"])("td",null,Object(s["B"])(e.qty),1),Object(s["h"])("td",null,[x,Object(s["g"])(Object(s["B"])(e.final_total),1)])])})),128))])]),Object(s["h"])("p",w,"總金額NT $"+Object(s["B"])(J.carts.total),1)])]),Object(s["h"])("main",V,[Object(s["h"])(P,{class:"px-3",onChange:N.checkUserDatas},{default:Object(s["J"])((function(e){var a=e.errors;return[_,Object(s["h"])(F,{type:"text",name:"姓名",id:"orderName",class:["form-control",{"is-invalid":a["姓名"]}],rules:"required",modelValue:J.userDatas.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return J.userDatas.user.name=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"姓名",class:"invalid-feedback mb-1"}),k,Object(s["h"])(F,{type:"tel",name:"電話",id:"orderTel",class:["form-control",{"is-invalid":a["電話"]}],rules:"required|numeric|min:8",modelValue:J.userDatas.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return J.userDatas.user.tel=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"電話",class:"invalid-feedback mb-1"}),D,Object(s["h"])(F,{type:"email",name:"Email",id:"orderEmail",class:["form-control",{"is-invalid":a["Email"]}],rules:"required|email",modelValue:J.userDatas.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return J.userDatas.user.email=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"Email",class:"invalid-feedback mb-1"}),S,Object(s["h"])(F,{type:"text",name:"地址",id:"orderAddress",class:["form-control",{"is-invalid":a["地址"]}],rules:"required",modelValue:J.userDatas.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return J.userDatas.user.address=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"地址",class:"invalid-feedback mb-1"}),q,Object(s["h"])(F,{as:"textarea",name:"備註",id:"orderMsg",class:["form-control",{"is-invalid":a["備註"]}],modelValue:J.userDatas.message,"onUpdate:modelValue":t[5]||(t[5]=function(e){return J.userDatas.message=e})},null,8,["class","modelValue"]),Object(s["h"])(M,{name:"備註",class:"invalid-feedback mb-1"}),A]})),_:1},8,["onChange"])]),Object(s["h"])("div",C,[Object(s["h"])($,{to:"/square/cart",class:"btn btn_outline_green px-3 py-1"},{default:Object(s["J"])((function(){return[E]})),_:1}),Object(s["h"])("button",{class:"btn btn_main px-3 py-1",disabled:J.btnStatus,onClick:t[6]||(t[6]=function(){return N.postOrder&&N.postOrder.apply(N,arguments)})}," 送出訂單 ▷ ",8,["disabled"])])])])])])],64)}a("99af");var J=a("0e54"),N=a("4897"),T={name:"Order",data:function(){return{loadingStatus:!1,btnStatus:!0,progressNum:33,carts:{},userDatas:{user:{},message:""},order:{id:"",data:{}}}},components:{Progress:J["a"]},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/cart");this.loadingStatus=!0,this.$http.get(t).then((function(t){t.data.success?(console.log("(成功-前台)取得購物車全部資料 res:",t),e.carts=t.data.data,e.carts.carts.length<1&&e.$router.push("/square/cart"),e.loadingStatus=!1,console.log("(成功-前台)取得購物車全部資料 vue:",e.carts)):(console.log("(錯誤-前台)取得購物車全部資料 res:",t),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)取得購物車全部資料 res:"),console.dir(t),e.loadingStatus=!1}))},checkUserDatas:function(){var e=this.userDatas.user,t=e.name,a=e.email,s=e.tel,r=e.address;this.btnStatus=""===t||""===a||""===s||""===r},postOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("toriha_vuetestapi","/order");this.loadingStatus=!0,this.$http.post(t,{data:this.userDatas}).then((function(t){t.data.success?(console.log("(成功-前台)送出訂單 res:",t),e.$router.push("/square/order/".concat(t.data.orderId))):(console.log("(錯誤-前台)送出訂單 res",t),Object(N["b"])(t.data.message,"error"),e.loadingStatus=!1)})).catch((function(t){console.log("(失敗-前台)送出訂單 err"),console.dir(t),e.loadingStatus=!1}))}},mounted:function(){this.getCarts()}};T.render=U;t["default"]=T}}]);
//# sourceMappingURL=chunk-3e789ac3.c65be784.js.map