{"version":3,"sources":["webpack:///./src/views/front/Front.vue","webpack:///./src/components/navbar/MainNavbar.vue","webpack:///./src/components/navbar/MainNavbar.vue?2c99","webpack:///./src/views/front/Front.vue?c31f"],"names":["textColor","bgColor","moreMsg","class","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","icon","openFavoritesOffcanvas","favoritsLength","newfavoritsLength","cartsLength","newLength","ref","name","data","mainFavoritsList","JSON","parse","localStorage","getItem","components","Offcanvas","methods","updateCartLength","url","this","$http","get","then","res","success","totleQty","carts","forEach","item","qty","console","log","catch","err","dir","updateFavoritsLength","length","$refs","likeOffcanvas","openOffcanvas","mounted","bus","on","num","render","MainNavbar","Footer"],"mappings":"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","file":"js/chunk-2d0bd795.583f5c8c.js","sourcesContent":["<template>\n  <MainNavbar></MainNavbar>\n  <router-view></router-view>\n  <Footer\n    :textColor=\"'text-secondary'\"\n    :bgColor=\"'bg-primary'\"\n    :moreMsg=\"true\"\n  ></Footer>\n</template>\n\n<script>\nimport MainNavbar from '@/components/navbar/MainNavbar.vue';\nimport Footer from '@/components/Footer.vue';\n\nexport default {\n  name: 'Front',\n  components: { MainNavbar, Footer },\n};\n</script>\n","<template>\n  <!-- 主要導覽列 -->\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary px-2 w-100\">\n      <div class=\"container-fluid\">\n        <router-link\n          to=\"/\"\n          class=\"nav-link logo h3 mb-0 p-0\"\n        >\n          <Font-awesome-icon\n            icon=\"crow\"\n            class=\"d-inline-block align-text-top\"\n          />\n          Natural\n        </router-link>\n        <button\n          type=\"button\"\n          class=\"navbar-toggler\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarToggler\"\n          aria-controls=\"navbarToggler\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        <div\n          id=\"navbarToggler\"\n          class=\"collapse navbar-collapse flex justify-content-end\"\n        >\n          <ul class=\"navbar-nav fs-5 text-center\">\n            <li class=\"nav-item scale\">\n              <router-link\n                to=\"/about\"\n                class=\"nav-link\"\n              >\n                關於我們\n              </router-link>\n            </li>\n            <li class=\"nav-item scale\">\n              <router-link\n                to=\"/products\"\n                class=\"nav-link\"\n              >\n                線上商城\n              </router-link>\n            </li>\n            <li class=\"nav-item scale\">\n              <a\n                class=\"nav-link pointer_no_hover\"\n                @click=\"openFavoritesOffcanvas()\"\n              >\n                <i class=\"bi bi-heart-fill position-relative\">\n                  <span\n                    class=\"num_icon\"\n                    v-if=\"favoritsLength > 0\"\n                  >\n                    {{ favoritsLength || newfavoritsLength }}\n                  </span>\n                </i>\n              </a>\n            </li>\n            <li class=\"nav-item scale\">\n              <router-link\n                to=\"/cart\"\n                class=\"nav-link\"\n              >\n                <i class=\"bi bi-cart-fill position-relative\">\n                  <span\n                    class=\"num_icon\"\n                    v-if=\"cartsLength > 0\"\n                  >\n                    {{ cartsLength || newLength }}\n                  </span>\n                </i>\n              </router-link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  </div>\n\n  <Offcanvas\n    ref=\"likeOffcanvas\"\n  ></Offcanvas>\n</template>\n\n<script>\nimport bus from '@/methods/bus';\nimport Offcanvas from '@/components/offcanvas/FavoritesOffcanvas.vue';\n\nexport default {\n  name: 'MainNavbar',\n  data() {\n    return {\n      cartsLength: 0,\n      newLength: 0,\n      mainFavoritsList: JSON.parse(localStorage.getItem('favoritData')) || [],\n      favoritsLength: 0,\n      newfavoritsLength: 0,\n    };\n  },\n  components: { Offcanvas },\n  methods: {\n    updateCartLength() { // 取得購物車數量\n      const url = `${process.env.VUE_APP_PATH}/api/${process.env.VUE_APP_API}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          if (res.data.success) {\n            let totleQty = 0;\n            this.cartsLength = res.data.data.carts.forEach((item) => {\n              totleQty += item.qty;\n            });\n            this.cartsLength = totleQty;\n          } else {\n            console.log('(錯誤-全域)取得購物車數量 res:', res);\n          }\n        })\n        .catch((err) => {\n          console.log('(失敗-全域)取得購物車數量 err:');\n          console.dir(err);\n        });\n    },\n    updateFavoritsLength() { // 取得最愛收藏數量\n      this.favoritsLength = this.mainFavoritsList.length;\n      this.newfavoritsLength = this.mainFavoritsList.length;\n    },\n    openFavoritesOffcanvas() { // 打開最愛收藏側欄\n      const data = JSON.parse(localStorage.getItem('favoritData')) || [];\n      this.$refs.likeOffcanvas.openOffcanvas(data);\n    },\n  },\n  mounted() {\n    this.updateCartLength();\n    this.updateFavoritsLength();\n    // 更新購物車數量\n    bus.on('cart-number', (num) => {\n      this.cartsLength = num;\n      this.newLength = num;\n    });\n\n    // 更新最愛收藏數量\n    bus.on('favorits-number', (num) => {\n      this.favoritsLength = num;\n      this.newfavoritsLength = num;\n    });\n  },\n};\n</script>\n","import { render } from \"./MainNavbar.vue?vue&type=template&id=b9683210\"\nimport script from \"./MainNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./MainNavbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Front.vue?vue&type=template&id=c0579088\"\nimport script from \"./Front.vue?vue&type=script&lang=js\"\nexport * from \"./Front.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}